<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>24暑假 | Winter</title><meta name="author" content="Winter"><meta name="copyright" content="Winter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="ajax1.AJAX概念和axios什么是AJAX？使用浏览器的 XMLHttpRequest 对象 与服务器通信 axios用法1 引入axios.js文件   2 具体用法 url：资源定位符 params：请求参数 method：请求方法 data：请求体 12345678910111213141516171819202122      axios(&amp;#123;          url:&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="24暑假">
<meta property="og:url" content="https://rorschach23-max.github.io/2024/07/12/24%E6%9A%91%E5%81%87/index.html">
<meta property="og:site_name" content="Winter">
<meta property="og:description" content="ajax1.AJAX概念和axios什么是AJAX？使用浏览器的 XMLHttpRequest 对象 与服务器通信 axios用法1 引入axios.js文件   2 具体用法 url：资源定位符 params：请求参数 method：请求方法 data：请求体 12345678910111213141516171819202122      axios(&amp;#123;          url:&amp;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://rorschach23-max.github.io/img/cover/cover1.jpeg">
<meta property="article:published_time" content="2024-07-12T12:20:59.000Z">
<meta property="article:modified_time" content="2024-09-09T13:50:42.785Z">
<meta property="article:author" content="Winter">
<meta property="article:tag" content="ajax">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://rorschach23-max.github.io/img/cover/cover1.jpeg"><link rel="shortcut icon" href="/./img/favicon/favicon1.jpeg"><link rel="canonical" href="https://rorschach23-max.github.io/2024/07/12/24%E6%9A%91%E5%81%87/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '24暑假',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-09 21:50:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avatar/avatar1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/cover/cover1.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="Winter"><span class="site-name">Winter</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">24暑假</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-07-12T12:20:59.000Z" title="Created 2024-07-12 20:20:59">2024-07-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-09-09T13:50:42.785Z" title="Updated 2024-09-09 21:50:42">2024-09-09</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">8.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>32min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="24暑假"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h1><h2 id="1-AJAX概念和axios"><a href="#1-AJAX概念和axios" class="headerlink" title="1.AJAX概念和axios"></a>1.AJAX概念和axios</h2><h4 id="什么是AJAX？"><a href="#什么是AJAX？" class="headerlink" title="什么是AJAX？"></a>什么是AJAX？</h4><p>使用浏览器的 XMLHttpRequest 对象 与服务器通信</p>
<h4 id="axios用法"><a href="#axios用法" class="headerlink" title="axios用法"></a>axios用法</h4><p>1 引入axios.js文件</p>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<p>2 具体用法</p>
<p>url：资源定位符</p>
<p>params：请求参数</p>
<p>method：请求方法</p>
<p>data：请求体</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">      <span class="title function_">axios</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>:<span class="string">&#x27; http://hmajax.itheima.net/api/area&#x27;</span>,</span><br><span class="line">          <span class="attr">params</span>:&#123;</span><br><span class="line">              pname, </span><br><span class="line">              cname,</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/login&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        username,</span><br><span class="line">        password</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">data</span>.<span class="property">message</span>)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="2-URL和URL参数查询"><a href="#2-URL和URL参数查询" class="headerlink" title="2.URL和URL参数查询"></a>2.URL和URL参数查询</h2><h4 id="URL概念和组成"><a href="#URL概念和组成" class="headerlink" title="URL概念和组成"></a>URL概念和组成</h4><p>什么是 URL ？</p>
<ul>
<li>统一资源定位符，简称网址，用于定位网络中的资源（资源指的是：网页，图片，数据，视频，音频等等）</li>
</ul>
<p>URL的组成？</p>
<ul>
<li>协议，域名，资源路径</li>
</ul>
<p><img src="/../img/md/URL%E7%BB%84%E6%88%90.png"></p>
<h4 id="URL参数查询"><a href="#URL参数查询" class="headerlink" title="URL参数查询"></a>URL参数查询</h4><p>参数查询语法？</p>
<ul>
<li>在 url 网址后面用?拼接格式：<a target="_blank" rel="noopener" href="http://xxxx.com/xxx/xxx?%E5%8F%82%E6%95%B0%E5%90%8D1=%E5%80%BC1&%E5%8F%82%E6%95%B0%E5%90%8D2=%E5%80%BC2">http://xxxx.com/xxx/xxx?参数名1=值1&amp;参数名2=值2</a></li>
<li>参数名一般是后端规定的，值前端看情况传递即可</li>
</ul>
<p>URL参数查询类似axios用请求方法get 请求参数params</p>
<h4 id="URL中的端口号"><a href="#URL中的端口号" class="headerlink" title="URL中的端口号"></a>URL中的端口号</h4><p>端口号的作用：标记服务器里对应的服务程序值为（0-65535 之间的任意整数）</p>
<p>http 协议，默认访问的是 80 端口</p>
<p>常用端口如 数据库3306 ssh22</p>
<p>注意：0-1023 和一些特定的端口号被占用，我们自己编写服务程序请避开使用</p>
<h2 id="3-请求报文与响应报文"><a href="#3-请求报文与响应报文" class="headerlink" title="3.请求报文与响应报文"></a>3.请求报文与响应报文</h2><h4 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h4><p>请求报文：是浏览器按照协议规定发送给服务器的内容，例如刚刚注册用户时，发起的请求报文：</p>
<p><img src="/../img/md/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87.png"></p>
<p>这里的格式包含：</p>
<ul>
<li>请求行：请求方法，URL，协议</li>
<li>请求头：以键值对的格式携带的附加信息，比如：Content-Type（指定了本次传递的内容类型）</li>
<li>空行：分割请求头，空行之后的是发送给服务器的资源</li>
<li>请求体：发送的资源</li>
</ul>
<h4 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h4><p><img src="/../img/md/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87.png"></p>
<p>响应报文的组成：</p>
<ul>
<li>响应行（状态行）：协议，HTTP响应状态码，状态信息</li>
<li>响应头：以键值对的格式携带的附加信息，比如：Content-Type（告诉浏览器，本次返回的内容类型）</li>
<li>空行：分割响应头，控制之后的是服务器返回的资源</li>
<li>响应体：返回的资源</li>
</ul>
<h4 id="HTTP-响应状态码"><a href="#HTTP-响应状态码" class="headerlink" title="HTTP 响应状态码"></a>HTTP 响应状态码</h4><p><img src="/../img/md/%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81.png"></p>
<p>1xx <strong>信息响应</strong></p>
<ul>
<li><strong>100 Continue</strong>: 服务器已接收到请求头部，客户端应继续发送请求主体（例如，在发送一个较大的请求主体之前）。</li>
<li><strong>101 Switching Protocols</strong>: 服务器同意客户端请求更改协议（例如，从 HTTP 升级到 WebSocket）。</li>
</ul>
<p>2xx <strong>成功响应</strong></p>
<ul>
<li><strong>200 OK:</strong> 请求成功。响应的内容随请求方法的不同而不同。</li>
<li><strong>201 Created</strong>: 请求已成功并且在服务器上创建了新的资源。</li>
<li><strong>202 Accepted</strong>: 服务器已接受请求，但尚未处理完成。</li>
<li><strong>204 No Content</strong>: 服务器成功处理了请求，但没有返回任何内容。</li>
</ul>
<p>3xx <strong>重定向</strong></p>
<ul>
<li><strong>301 Moved Permanently</strong>: 请求的资源已永久移动到新的 URL。客户端应使用新的 URL 进行请求。</li>
<li><strong>302 Found</strong>: 请求的资源临时移动到新的 URL。客户端应使用原始的 URL 进行后续请求。</li>
<li><strong>304 Not Modified</strong>: 请求的资源未修改。客户端可以使用缓存的版本。</li>
</ul>
<p>4xx <strong>客户端错误</strong></p>
<ul>
<li><strong>400 Bad Request</strong>: 服务器无法理解请求，通常是因为请求语法错误。</li>
<li><strong>401 Unauthorized</strong>: 请求需要用户认证。</li>
<li><strong>403 Forbidden</strong>: 服务器理解请求，但拒绝执行。</li>
<li><strong>404 Not Found</strong>: 服务器找不到请求的资源。</li>
<li><strong>405 Method Not Allowed</strong>: 请求方法不被允许。</li>
<li><strong>408 Request Timeout</strong>: 服务器等待客户端发送请求时间过长。</li>
</ul>
<p>5xx <strong>服务器错误</strong></p>
<ul>
<li><strong>500 Internal Server Error</strong>: 服务器遇到未预期的情况，无法完成请求。</li>
<li><strong>501 Not Implemented</strong>: 服务器不支持请求的方法。</li>
<li><strong>502 Bad Gateway</strong>: 服务器作为网关或代理，从上游服务器接收到无效响应。</li>
<li><strong>503 Service Unavailable</strong>: 服务器暂时无法处理请求，通常是因为服务器过载或维护。</li>
<li><strong>504 Gateway Timeout</strong>: 服务器作为网关或代理，未能及时从上游服务器接收到响应。</li>
</ul>
<h2 id="4-Json字符串与js对象"><a href="#4-Json字符串与js对象" class="headerlink" title="4.Json字符串与js对象"></a>4.Json字符串与js对象</h2><h4 id="json字符串的展开运算符…"><a href="#json字符串的展开运算符…" class="headerlink" title="json字符串的展开运算符…"></a>json字符串的展开运算符…</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jsonString = <span class="string">&#x27;&#123;&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30, &quot;city&quot;: &quot;New York&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonString);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newObj = &#123; ...obj, <span class="attr">country</span>: <span class="string">&#x27;USA&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj);</span><br><span class="line"><span class="comment">// 输出: &#123; name: &#x27;John&#x27;, age: 30, city: &#x27;New York&#x27;, country: &#x27;USA&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="JSON-stringify-obj"><a href="#JSON-stringify-obj" class="headerlink" title="JSON.stringify(obj)"></a>JSON.stringify(obj)</h4><p>接受一个 JavaScript 对象或数组，并返回一个 JSON 字符串。</p>
<h4 id="JSON-parse-jsonString"><a href="#JSON-parse-jsonString" class="headerlink" title="JSON.parse(jsonString)"></a>JSON.parse(jsonString)</h4><p>接受一个 JSON 字符串，并返回一个 JavaScript 对象或数组。</p>
<h4 id="Object-keys-obj"><a href="#Object-keys-obj" class="headerlink" title="Object.keys(obj)"></a>Object.keys(obj)</h4><p>是 JavaScript 中的一个内置方法，用于返回一个给定对象的可枚举属性名（即键）的数组。</p>
<h4 id="获得对象obj某个键key的值-obj-key"><a href="#获得对象obj某个键key的值-obj-key" class="headerlink" title="获得对象obj某个键key的值 obj[key]"></a>获得对象obj某个键key的值 obj[key]</h4><h2 id="5-Ajax原理"><a href="#5-Ajax原理" class="headerlink" title="5.Ajax原理"></a>5.Ajax原理</h2><h4 id="ajax原理"><a href="#ajax原理" class="headerlink" title="ajax原理"></a>ajax原理</h4><p>ajax原理即xhr</p>
<h4 id="XMLHttpRequest的使用四个步骤"><a href="#XMLHttpRequest的使用四个步骤" class="headerlink" title="XMLHttpRequest的使用四个步骤"></a>XMLHttpRequest的使用四个步骤</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 目标：使用XMLHttpRequest对象与服务器通信</span></span><br><span class="line"><span class="comment">     *  1. 创建 XMLHttpRequest 对象</span></span><br><span class="line"><span class="comment">     *  2. 配置请求方法和请求 url 地址</span></span><br><span class="line"><span class="comment">     *  3. 监听 loadend 事件，接收响应结果</span></span><br><span class="line"><span class="comment">     *  4. 发起请求</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">	<span class="comment">// 1. 创建 XMLHttpRequest 对象</span></span><br><span class="line">	<span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">	<span class="comment">// 2. 配置请求方法和请求 url 地址</span></span><br><span class="line">	xhr.<span class="title function_">open</span>(<span class="string">&#x27;请求方法&#x27;</span>,<span class="string">&#x27;url地址&#x27;</span>);</span><br><span class="line">	<span class="comment">// 3. 监听 loadend 事件，接收响应结果</span></span><br><span class="line">	xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;);</span><br><span class="line">	<span class="comment">// 4. 发起请求</span></span><br><span class="line">	xhr.<span class="title function_">send</span>();</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h4 id="xmlhttprequest参数查询"><a href="#xmlhttprequest参数查询" class="headerlink" title="xmlhttprequest参数查询"></a>xmlhttprequest参数查询</h4><p>简单参数查询即第二步里，url写成url？参数1&#x3D;值1&amp;参数2&#x3D;值2这种格式</p>
<h4 id="URLSearchParams-API"><a href="#URLSearchParams-API" class="headerlink" title="URLSearchParams API"></a>URLSearchParams API</h4><p>URLSearchParams API 可以将js对象转成参数查询对象</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> qObj = &#123;</span><br><span class="line">  pname,</span><br><span class="line">  cname,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> paramsObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(qObj);</span><br><span class="line"><span class="keyword">const</span> queryString = paramsObj.<span class="title function_">toString</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(queryString);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>;</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>,<span class="string">`http://hmajax.itheima.net/api/area?<span class="subst">$&#123;queryString&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>

<h4 id="请求参数-body参数-设置请求头API-setRequestHeader"><a href="#请求参数-body参数-设置请求头API-setRequestHeader" class="headerlink" title="请求参数 body参数 &amp;设置请求头API setRequestHeader"></a>请求参数 body参数 &amp;设置请求头API setRequestHeader</h4><p>对请求参数要求格式是JSON时 使用API setRequestHeader设置请求头</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;content-type&#x27;</span>,<span class="string">&#x27;application/json&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>传递请求参数</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userObj = &#123;</span><br><span class="line">     <span class="attr">username</span>: <span class="string">&#x27;winter1245464&#x27;</span>,</span><br><span class="line">     <span class="attr">password</span>: <span class="string">&#x27;winterlee446&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">const</span> userObjStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(userObj);</span><br><span class="line">   xhr.<span class="title function_">send</span>(userObjStr);</span><br></pre></td></tr></table></figure>



<h2 id="6-promise"><a href="#6-promise" class="headerlink" title="6.promise"></a>6.promise</h2><h4 id="promise概念"><a href="#promise概念" class="headerlink" title="promise概念"></a>promise概念</h4><p>Promise 对象用于表示一个异步操作的最终完成（或失败）及其结构值</p>
<h4 id="promise使用步骤"><a href="#promise使用步骤" class="headerlink" title="promise使用步骤"></a>promise使用步骤</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 Promise 对象</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// 2. 执行异步任务-并传递结果</span></span><br><span class="line"> <span class="comment">// 成功调用: resolve(值) 触发 then() 执行</span></span><br><span class="line"> <span class="comment">// 失败调用: reject(值) 触发 catch() 执行</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 接收结果</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// 成功</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// 失败</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Promise-有哪三种状态？"><a href="#Promise-有哪三种状态？" class="headerlink" title="Promise 有哪三种状态？"></a>Promise 有哪三种状态？</h4><blockquote>
<p>每个 Promise 对象必定处于以下三种状态之一(fulfilled和rejected后不可改变)</p>
</blockquote>
<ol>
<li>待定（pending）：初始状态，既没有被兑现，也没有被拒绝</li>
<li>已兑现（fulfilled）：操作成功完成</li>
<li>已拒绝（rejected）：操作失败</li>
</ol>
<p>错误对象打印</p>
<p><code>console.dir(error)</code></p>
<h2 id="7-封装简易axios"><a href="#7-封装简易axios" class="headerlink" title="7.封装简易axios"></a>7.封装简易axios</h2><p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAxios</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 创建XHR对象</span></span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">    <span class="comment">// 如果有查询参数 拼接到url上</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">params</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> paramsObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(config.<span class="property">params</span>)</span><br><span class="line">      <span class="keyword">const</span> queryString = paramsObj.<span class="title function_">toString</span>()</span><br><span class="line">      config.<span class="property">url</span> += <span class="string">`?<span class="subst">$&#123;queryString&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 配置请求方法和请求url地址</span></span><br><span class="line">    xhr.<span class="title function_">open</span>(config.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>, config.<span class="property">url</span>)</span><br><span class="line">    <span class="comment">// 异步任务 resolve reject</span></span><br><span class="line">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//请求参数传递 请求头设置</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">data</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> jsonStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(config.<span class="property">data</span>)</span><br><span class="line">      xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line">      xhr.<span class="title function_">send</span>(jsonStr)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      xhr.<span class="title function_">send</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-同步-异步"><a href="#8-同步-异步" class="headerlink" title="8.同步 异步"></a>8.同步 异步</h2><h4 id="同步代码-异步代码"><a href="#同步代码-异步代码" class="headerlink" title="同步代码 异步代码"></a>同步代码 异步代码</h4><ol>
<li><p><a href="%5Bhttps://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Introducing#%E5%90%8C%E6%AD%A5%E7%BC%96%E7%A8%8B%5D(https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Introducing)">同步代码</a>：逐行执行，需原地等待结果后，才继续向下执行</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Introducing">异步代码</a>：调用后耗时，不阻塞代码继续执行（不必原地等待），在将来完成后触发回调函数传递结果</p>
</li>
</ol>
<p>JS 中有哪些异步代码?</p>
<p>setTimeout &#x2F; setInterval，事件，AJAX</p>
<h4 id="回调地狱"><a href="#回调地狱" class="headerlink" title="回调地狱"></a>回调地狱</h4><p>在回调函数中嵌套回调函数，一直嵌套下去就形成了回调函数地狱</p>
<h4 id="Promise链式调用"><a href="#Promise链式调用" class="headerlink" title="Promise链式调用"></a>Promise链式调用</h4><p><img src="/../img/md/promise%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8.png"></p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">doSomething</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">doSomethingElse</span>(result1);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">doAnotherThing</span>(result2);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result3</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">doFinalThing</span>(result3);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result4</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Done&#x27;</span>, result4);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Something went wrong&#x27;</span>, error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="async函数和await"><a href="#async函数和await" class="headerlink" title="async函数和await"></a>async函数和await</h4><p>使用方法：在async函数内，使用async函数内，使用await关键字取代then函数，等待获取promise对象成功状态的结果值</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 定义async修饰函数</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 2. await等待Promise对象成功的结果</span></span><br><span class="line">  <span class="keyword">const</span> pObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;<span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span>&#125;)</span><br><span class="line">  <span class="keyword">const</span> pname = pObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> cObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;<span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/city&#x27;</span>, <span class="attr">params</span>: &#123; pname &#125;&#125;)</span><br><span class="line">  <span class="keyword">const</span> cname = cObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> aObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;<span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/area&#x27;</span>, <span class="attr">params</span>: &#123; pname, cname &#125;&#125;)</span><br><span class="line">  <span class="keyword">const</span> areaName = aObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.province&#x27;</span>).<span class="property">innerHTML</span> = pname</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.city&#x27;</span>).<span class="property">innerHTML</span> = cname</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.area&#x27;</span>).<span class="property">innerHTML</span> = areaName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure>



<h4 id="捕获错误-try…catch"><a href="#捕获错误-try…catch" class="headerlink" title="捕获错误 try…catch"></a>捕获错误 try…catch</h4><p>try 和 catch 的作用：语句标记要尝试的语句块，并指定一个出现异常时抛出的响应</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">  <span class="comment">// error 接收的是，错误消息</span></span><br><span class="line">  <span class="comment">// try 里代码，如果有错误，直接进入这里执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>遇到错误直接跳出，不再往下执行</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：async和await_错误捕获</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 1. try包裹可能产生错误的代码</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> pObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span> &#125;)</span><br><span class="line">    <span class="keyword">const</span> pname = pObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">const</span> cObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/city&#x27;</span>, <span class="attr">params</span>: &#123; pname &#125; &#125;)</span><br><span class="line">    <span class="keyword">const</span> cname = cObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">const</span> aObj = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/area&#x27;</span>, <span class="attr">params</span>: &#123; pname, cname &#125; &#125;)</span><br><span class="line">    <span class="keyword">const</span> areaName = aObj.<span class="property">data</span>.<span class="property">list</span>[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.province&#x27;</span>).<span class="property">innerHTML</span> = pname</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.city&#x27;</span>).<span class="property">innerHTML</span> = cname</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.area&#x27;</span>).<span class="property">innerHTML</span> = areaName</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="comment">// 2. 接着调用catch块，接收错误信息</span></span><br><span class="line">    <span class="comment">// 如果try里某行代码报错后，try中剩余的代码不会执行了</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">dir</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure>



<h4 id="事件循环（EventLoop）"><a href="#事件循环（EventLoop）" class="headerlink" title="事件循环（EventLoop）"></a>事件循环（EventLoop）</h4><p><strong>事件循环</strong>：执行代码和收集异步任务的模型，在调用栈空闲时，反复调用任务队列里回调函数执行机制</p>
<p><img src="/../img/md/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF.png"></p>
<p>js单线程 浏览器多线程</p>
<p>步骤：</p>
<ol>
<li>js执行同步代码，遇到异步代码交给宿主浏览器环境执行</li>
<li>浏览器异步有结果后，会把回调函数放入任务队列排队</li>
<li>当调用栈空闲后，反复调用任务队列里的回调函数</li>
</ol>
<h4 id="宏任务与微任务"><a href="#宏任务与微任务" class="headerlink" title="宏任务与微任务"></a>宏任务与微任务</h4><p><strong>异步任务</strong>分为<strong>宏任务</strong>和<strong>微任务</strong></p>
<p><strong>宏任务</strong>：由浏览器环境执行的异步代码</p>
<p><strong>微任务</strong>：由JS引擎环境执行的异步代码</p>
<p>宏任务与微任务的具体划分</p>
<p><img src="/../img/md/%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%88%92%E5%88%86.png"></p>
<p>执行顺序：<strong>同步代码</strong>-&gt;<strong>微任务</strong>-&gt;<strong>宏任务</strong></p>
<h4 id="Promise-all-静态方法"><a href="#Promise-all-静态方法" class="headerlink" title="Promise.all 静态方法"></a>Promise.all 静态方法</h4><p>概念：合并多个 Promise 对象，等待所有同时成功完成（或某一个失败），做后续逻辑</p>
<p><img src="/../img/md/Promise.all.png"></p>
<p>语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title class_">Promise</span>对象, <span class="title class_">Promise</span>对象, ...])</span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// result 结果: [Promise对象成功结果, Promise对象成功结果, ...]</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 第一个失败的 Promise 对象，抛出的异常对象</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="9-一些第三方库"><a href="#9-一些第三方库" class="headerlink" title="9.一些第三方库"></a>9.一些第三方库</h2><h4 id="serialize-js收集表单数据"><a href="#serialize-js收集表单数据" class="headerlink" title="serialize.js收集表单数据"></a>serialize.js收集表单数据</h4><ol>
<li><p>引入form-serialize.js</p>
</li>
<li><p>获取表单元素（表单元素要有name属性作为收集数据中的属性名）</p>
<p>示例代码</p>
<p><code>const form = document.querySelector(&#39;.art-form&#39;);</code></p>
</li>
<li><p>配置对象</p>
<ul>
<li>hash：<ul>
<li>true - 收集出来的是一个 JS 对象结构</li>
<li>false - 收集出来的是一个查询字符串格式</li>
</ul>
</li>
<li>empty：<ul>
<li>true - 收集空值</li>
<li>false - 不收集空值</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>​	示例代码：<code>const data =  serialize(form, &#123; hash: true, empty: true&#125;)</code></p>
<h4 id="富文本编辑器-wangEditor插件"><a href="#富文本编辑器-wangEditor插件" class="headerlink" title="富文本编辑器-wangEditor插件"></a>富文本编辑器-wangEditor插件</h4><p>1.引入wangEditor的css样式</p>
<p>2.html部分</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;&quot;</span>&gt;</span>内容：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 富文本编辑器位置 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;editor—wrapper&quot;</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;toolbar-container&quot;</span>&gt;</span><span class="comment">&lt;!-- 工具栏 --&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;editor-container&quot;</span>&gt;</span><span class="comment">&lt;!-- 编辑器 --&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 记录富文本内容-用于表单收集 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;content&quot;</span> <span class="attr">class</span>=<span class="string">&quot;publish-content&quot;</span> <span class="attr">hidden</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.js部分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 富文本编辑器</span></span><br><span class="line"><span class="comment">// 创建编辑器函数，创建工具栏函数</span></span><br><span class="line"><span class="keyword">const</span> &#123; createEditor, createToolbar &#125; = <span class="variable language_">window</span>.<span class="property">wangEditor</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> editorConfig = &#123;</span><br><span class="line">    <span class="attr">placeholder</span>: <span class="string">&#x27;Type here...&#x27;</span>,</span><br><span class="line">    <span class="title function_">onChange</span>(<span class="params">editor</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> html = editor.<span class="title function_">getHtml</span>()</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;editor content&#x27;</span>, html)</span><br><span class="line">      <span class="comment">// 也可以同步到 &lt;textarea&gt;</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.publish-content&#x27;</span>).<span class="property">value</span> = html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> editor = <span class="title function_">createEditor</span>(&#123;</span><br><span class="line">    <span class="attr">selector</span>: <span class="string">&#x27;#editor-container&#x27;</span>,</span><br><span class="line">    <span class="attr">html</span>: <span class="string">&#x27;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&#x27;</span>,</span><br><span class="line">    <span class="attr">config</span>: editorConfig,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;default&#x27;</span>, <span class="comment">// or &#x27;simple&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toolbarConfig = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toolbar = <span class="title function_">createToolbar</span>(&#123;</span><br><span class="line">    editor,</span><br><span class="line">    <span class="attr">selector</span>: <span class="string">&#x27;#toolbar-container&#x27;</span>,</span><br><span class="line">    <span class="attr">config</span>: toolbarConfig,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;default&#x27;</span>, <span class="comment">// or &#x27;simple&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="10-axios"><a href="#10-axios" class="headerlink" title="10.axios"></a>10.axios</h2><h4 id="axios配置基地址"><a href="#axios配置基地址" class="headerlink" title="axios配置基地址"></a>axios配置基地址</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://geek.itheima.net&#x27;</span></span><br></pre></td></tr></table></figure>

<p>配置后axios请求时都会baseURL + url</p>
<h4 id="token-访问权限令牌"><a href="#token-访问权限令牌" class="headerlink" title="token 访问权限令牌"></a>token 访问权限令牌</h4><p>概念：访问权限的令牌，本质上是一串字符串</p>
<p>创建：正确登录后，由后端签发并返回</p>
<p>作用：判断是否有登录状态等，控制访问权限</p>
<p>注意：前端只能判断 token 有无，而后端才能判断 token 的有效性</p>
<p><img src="/../img/md/token%E4%BB%A4%E7%89%8C.png"></p>
<h4 id="axios传递请求头参数"><a href="#axios传递请求头参数" class="headerlink" title="axios传递请求头参数"></a>axios传递请求头参数</h4><p>参数headers</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;目标资源地址&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;<span class="variable language_">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="axios请求拦截器"><a href="#axios请求拦截器" class="headerlink" title="axios请求拦截器"></a>axios请求拦截器</h4><p><strong>请求拦截器</strong>是发起请求到服务器前被调用的一个函数，对请求参数进行设置。</p>
<p>有公共配置和设置时，统一设置在请求拦截器中</p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> token = location.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)  </span><br><span class="line">  token &amp;&amp; config.<span class="property">headers</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">  <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/md/%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8.png"></p>
<h4 id="axios响应拦截器"><a href="#axios响应拦截器" class="headerlink" title="axios响应拦截器"></a>axios响应拦截器</h4><p><strong>axios 响应拦截器</strong>：响应回到 then&#x2F;catch 之前，触发的拦截函数，对响应结果统一处理</p>
<p><img src="/../img/md/%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8.png"></p>
<p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 2xx 范围内的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应数据做点什么，例如：直接返回服务器的响应结果对象</span></span><br><span class="line">  <span class="keyword">const</span> result = response.<span class="property">data</span></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 范围的状态码都会触发该函数。</span></span><br><span class="line">  <span class="comment">// 对响应错误做点什么，例如：判断响应状态为 401 代表身份验证失败</span></span><br><span class="line">  <span class="keyword">if</span> (error?.<span class="property">response</span>?.<span class="property">status</span> === <span class="number">401</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;登录状态过期，请重新登录&#x27;</span>)</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;../login/index.html&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="11-正则表达式"><a href="#11-正则表达式" class="headerlink" title="11.正则表达式"></a>11.正则表达式</h2><p>正则表达式（Regular Expression， 简称regex或regexp）是一种强大的字符串匹配和处理工具，用于搜索，匹配和操作字符串。正则表达式使用特定的语法规则来描述和匹配字符串模式。</p>
<h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul>
<li><strong>字面字符</strong>：普通字符在正则表达式中代表它们自己的值，如<code>a</code>匹配字母<code>a</code>。</li>
<li><strong>元字符</strong>：具有特殊意义的字符，用于指定复杂的匹配规则，如<code>.</code>、<code>*</code>、<code>?</code>、<code>+</code>、<code>[]</code>等。</li>
</ul>
<h4 id="常用符号"><a href="#常用符号" class="headerlink" title="常用符号"></a>常用符号</h4><ol>
<li><strong><code>.</code>（点号）</strong>：匹配除换行符以外的任意单个字符。<ul>
<li>示例：<code>a.b</code>可以匹配<code>aab</code>、<code>a1b</code>等。</li>
</ul>
</li>
<li><strong><code>\*</code>（星号）</strong>：匹配前面的元素零次或多次。<ul>
<li>示例：<code>a*b</code>可以匹配<code>b</code>、<code>ab</code>、<code>aab</code>等。</li>
</ul>
</li>
<li><strong><code>+</code>（加号）</strong>：匹配前面的元素一次或多次。<ul>
<li>示例：<code>a+b</code>可以匹配<code>ab</code>、<code>aab</code>、<code>aaab</code>等，但不匹配<code>b</code>。</li>
</ul>
</li>
<li><strong><code>?</code>（问号）</strong>：匹配前面的元素零次或一次。<ul>
<li>示例：<code>a?b</code>可以匹配<code>b</code>、<code>ab</code>。</li>
</ul>
</li>
<li><strong><code>[]</code>（方括号）</strong>：匹配方括号内的任意一个字符。<ul>
<li>示例：<code>[abc]</code>可以匹配<code>a</code>、<code>b</code>、<code>c</code>中的任何一个。</li>
</ul>
</li>
<li><strong><code>[^]</code>（脱字符在方括号内）</strong>：匹配不在方括号内的任意一个字符。<ul>
<li>示例：<code>[^abc]</code>可以匹配除<code>a</code>、<code>b</code>、<code>c</code>之外的任何一个字符。</li>
</ul>
</li>
<li><strong><code>|</code>（竖线）</strong>：表示逻辑或，用于匹配多个选项中的一个。<ul>
<li>示例：<code>a|b</code>可以匹配<code>a</code>或<code>b</code>。</li>
</ul>
</li>
<li><strong><code>()</code>（小括号）</strong>：用于分组，分组可以作为一个整体使用量词，也可以提取匹配的子字符串。<ul>
<li>示例：<code>(abc)+</code>可以匹配<code>abc</code>、<code>abcabc</code>等。</li>
</ul>
</li>
<li><strong><code>\</code>（反斜杠）</strong>：用于转义元字符，使其作为字面字符使用。<ul>
<li>示例：<code>\.</code>可以匹配<code>.</code>字符。</li>
</ul>
</li>
</ol>
<h4 id="预定义字符类"><a href="#预定义字符类" class="headerlink" title="预定义字符类"></a>预定义字符类</h4><ol>
<li>**<code>\d</code>**：匹配任意一个数字，相当于<code>[0-9]</code>。<ul>
<li>示例：<code>\d</code>可以匹配<code>0</code>、<code>1</code>、<code>2</code>等。</li>
</ul>
</li>
<li>**<code>\D</code>**：匹配任意一个非数字字符，相当于<code>[^0-9]</code>。<ul>
<li>示例：<code>\D</code>可以匹配<code>a</code>、<code>b</code>、<code>@</code>等。</li>
</ul>
</li>
<li>**<code>\w</code>**：匹配任意一个字母、数字或下划线，相当于<code>[a-zA-Z0-9_]</code>。<ul>
<li>示例：<code>\w</code>可以匹配<code>a</code>、<code>1</code>、<code>_</code>等。</li>
</ul>
</li>
<li>**<code>\W</code>**：匹配任意一个非字母、非数字、非下划线的字符，相当于<code>[^a-zA-Z0-9_]</code>。<ul>
<li>示例：<code>\W</code>可以匹配<code>@</code>、<code>#</code>、<code> </code>等。</li>
</ul>
</li>
<li>**<code>\s</code>**：匹配任意一个空白字符（包括空格、制表符、换页符等）。<ul>
<li>示例：<code>\s</code>可以匹配空格、<code> </code>、<code>\t</code>等。</li>
</ul>
</li>
<li>**<code>\S</code>**：匹配任意一个非空白字符。<ul>
<li>示例：<code>\S</code>可以匹配<code>a</code>、<code>1</code>、<code>@</code>等。</li>
</ul>
</li>
</ol>
<h3 id="常用示例"><a href="#常用示例" class="headerlink" title="常用示例"></a>常用示例</h3><ol>
<li><p><strong>匹配邮箱地址</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]&#123;2,&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>匹配电话号码</strong>（假设为10位数字）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;10&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>匹配日期（格式为YYYY-MM-DD）</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>匹配URL</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https?://[a-zA-Z0-9.-]+\.[a-zA-Z]&#123;2,&#125;(/[\w.-]*)*</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="12-Node-js"><a href="#12-Node-js" class="headerlink" title="12.Node.js"></a>12.Node.js</h2><h4 id="了解Nodejs"><a href="#了解Nodejs" class="headerlink" title="了解Nodejs"></a>了解Nodejs</h4><p><strong>nodejs的作用</strong>？</p>
<p>1.编写后端程序，提供数据和网页资源</p>
<ol start="2">
<li>作为前端工程化的工具，翻译压缩整合代码等，提高开发效率</li>
</ol>
<p><strong>Node.js 与浏览器环境的 JS 最大区别</strong>？</p>
<p>Node.js 环境中没有 BOM 和 DOM，但是也用 JS 语法</p>
<h4 id="fs模块-文件系统交互"><a href="#fs模块-文件系统交互" class="headerlink" title="fs模块-文件系统交互"></a>fs模块-文件系统交互</h4><p>fs模块用于与文件系统 交互</p>
<p><strong>使用步骤</strong></p>
<p>1.加载模块对象，得到fs对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>2.写入文件内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;文件路径&#x27;</span>, <span class="string">&#x27;写入内容&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>3.读取文件内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;文件路径&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//data是文件内容的Buffer数据流</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="path模块-路径处理"><a href="#path模块-路径处理" class="headerlink" title="path模块-路径处理"></a>path模块-路径处理</h4><p>nodejs的相对路径是？</p>
<p>nodejs的相对路径是终端所在文件夹的相对路径，而不是js文件本身所在文件夹的路径</p>
<p>所以用path模块，获得绝对路径解决</p>
<p><strong>使用步骤</strong></p>
<p>1.加载path模块</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>2.获取该js文件所在文件夹的绝对路径并拼接</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pathStr = path.<span class="title function_">join</span>(__dirname,<span class="string">&#x27;...&#x27;</span>,<span class="string">&#x27;...&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h4 id="http模块-创建web服务"><a href="#http模块-创建web服务" class="headerlink" title="http模块-创建web服务"></a>http模块-创建web服务</h4><p>示例代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：基于 http 模块创建 Web 服务程序</span></span><br><span class="line"><span class="comment"> *  1.1 加载 http 模块，创建 Web 服务对象</span></span><br><span class="line"><span class="comment"> *  1.2 监听 request 请求事件，设置响应头和响应体</span></span><br><span class="line"><span class="comment"> *  1.3 配置端口号并启动 Web 服务</span></span><br><span class="line"><span class="comment"> *  1.4 浏览器请求（http://localhost:3000）测试</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 1.1 加载 http 模块，创建 Web 服务对象</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"><span class="comment">// 1.2 监听 request 请求事件，设置响应头和响应体</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 设置响应头-内容类型-普通文本以及中文编码格式</span></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain;charset=utf-8&#x27;</span>)</span><br><span class="line">  <span class="comment">// 设置响应体内容，结束本次请求与响应</span></span><br><span class="line">  res.<span class="title function_">end</span>(<span class="string">&#x27;欢迎使用 Node.js 和 http 模块创建的 Web 服务&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 1.3 配置端口号并启动 Web 服务</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Web 服务启动成功了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="express模块-创建web服务"><a href="#express模块-创建web服务" class="headerlink" title="express模块-创建web服务"></a>express模块-创建web服务</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听请求并设置响应头和响应体</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 设置响应头-内容类型-普通文本以及中文编码格式</span></span><br><span class="line">  res.<span class="title function_">set</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain;charset=utf-8&#x27;</span>);</span><br><span class="line">  <span class="comment">// 设置响应体内容，结束本次请求与响应</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;欢迎使用 Node.js 和 Express 框架创建的 Web 服务&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置端口号并启动 Web 服务</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Web 服务启动成功了&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="nodejs模块化"><a href="#nodejs模块化" class="headerlink" title="nodejs模块化"></a>nodejs模块化</h4><p><strong>什么是模块化?</strong></p>
<p>每个文件都是独立的模块</p>
<p><strong>commonjs 导入导出语法</strong></p>
<p>导出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    对外属性名: 模块内私有变量</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> 变量名 = <span class="built_in">require</span>(<span class="string">&#x27;模块名或路径&#x27;</span>)</span><br><span class="line"><span class="comment">// Node.js 环境内置模块直接写模块名（例如：fs，path，http）</span></span><br><span class="line"><span class="comment">// 自定义模块：写模块文件路径（例如：./utils.js)</span></span><br></pre></td></tr></table></figure>

<p>nodejs默认支持commonJS标准</p>
<h4 id="ECMAScript标准的导入导出"><a href="#ECMAScript标准的导入导出" class="headerlink" title="ECMAScript标准的导入导出"></a>ECMAScript标准的导入导出</h4><p><strong>ECMAScript标准 默认导入导出语法</strong></p>
<p><strong>使用该标准前</strong> 先设置package.json 并设置 {“type”: module}</p>
<p>导出语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> : &#123;</span><br><span class="line">    对外属性名: 模块内私有变量</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>导入语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 变量名 <span class="keyword">from</span> <span class="string">&#x27;模块名或路径&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>ECMAScript标准 命名导入导出语法</strong></p>
<p>导出语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// export 修饰定义语句</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> baseURL = <span class="string">&#x27;http://hmajax.itheima.net&#x27;</span></span><br></pre></td></tr></table></figure>

<p>导入语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;同名变量&#125; <span class="keyword">from</span> <span class="string">&#x27;模块名或路径&#x27;</span></span><br></pre></td></tr></table></figure>

<p>与默认导出如何选择：</p>
<ul>
<li>按需加载，使用命名导出和导入</li>
<li>全部加载，使用默认导出和导入</li>
</ul>
<h4 id="包的概念"><a href="#包的概念" class="headerlink" title="包的概念"></a>包的概念</h4><p>包：将模块，代码，其他资料整合成的一个<strong>文件夹</strong></p>
<p>包分类： </p>
<p>​	项目包：主要用于编写项目和业务逻辑</p>
<p>​	软件包：封装工具和方法进行使用</p>
<p>注意事项：</p>
<ul>
<li>需要有package.json记录软件包名字，作者，<strong>入口文件</strong></li>
<li>默认引入的是包文件节下的 index.js 模块文件里导出的对象，如果没有 index.js 文件，则会引入 package.json 里 main 属性指定的文件模块导出的对象</li>
</ul>
<p>入口文件应该集中工具模块的方法，再统一向外暴露</p>
<h4 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h4><p>初始化清单文件package.json命令</p>
<p><code>npm init -y</code></p>
<p>下载软件包命令 生产环境所需依赖</p>
<p><code>npm i 包名称</code></p>
<p>下载软件包命令 开发环境所需依赖</p>
<p><code>npm i 包命称 --save-dev</code></p>
<p>全局下载软件包命令</p>
<p><code>npm i 报名称 -g</code></p>
<p>npm安装所有依赖命令</p>
<p><code>npm i</code></p>
<p>使用情景:拿到它人项目后，没有包，根据package.json下载</p>
<h4 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h4><p>更快，更节省空间</p>
<p>安装pnpm</p>
<p><code>npm i -g pnpm</code></p>
<p>创建vue项目</p>
<p><code>pnpm create vue</code></p>
<p>安装所有依赖</p>
<p><code>pnpm install</code></p>
<p>安装软件包</p>
<p><code>pnpm add 包名 </code></p>
<p>安装开发依赖</p>
<p><code>pnpm add 包名 -D</code></p>
<p>卸载某个包</p>
<p><code>pnpm remove 包名</code></p>
<h2 id="13-Webpack"><a href="#13-Webpack" class="headerlink" title="13.Webpack"></a>13.Webpack</h2><h4 id="webpack概念和使用步骤"><a href="#webpack概念和使用步骤" class="headerlink" title="webpack概念和使用步骤"></a>webpack概念和使用步骤</h4><p><strong>webpack</strong>是一个静态模块打包工具</p>
<p><strong>静态模块</strong>：编写代码过程中的，html，css， js，图片等固定内容的文件</p>
<p><strong>webpack打包步骤</strong></p>
<p>1.先在项目文件夹下，初始化包环境，得到package.json文件</p>
<p><code>npm init -y</code></p>
<p>2.下载webpack webpack-cli到项目 （版本独立）</p>
<p><code>npm i webpack webpack --save-dev</code></p>
<p>–save-dev的意思是开发依赖</p>
<p>3.package.json中将webpack配置到自定义命令</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">&quot;srcipts&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>4.运行命令</p>
<p><code>npm run build</code></p>
<h4 id="weback修改入口和出口"><a href="#weback修改入口和出口" class="headerlink" title="weback修改入口和出口"></a>weback修改入口和出口</h4><p>修改入口和出口以改变打包设置</p>
<p>步骤：</p>
<ol>
<li><p>在项目根目录，新建webpack.config.js文件</p>
</li>
<li><p>设置导出配置对象filename，配置入口entry，出口文件路径path</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src/login/index.js&#x27;</span>),</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">    	<span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    	<span class="attr">filename</span>: <span class="string">&#x27;./login/index.js&#x27;</span>,</span><br><span class="line">        <span class="attr">clean</span>: <span class="string">&#x27;true&#x27;</span> <span class="comment">// 清空输出目录</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>npm run build</code></p>
</li>
</ol>
<h4 id="webpack生成html"><a href="#webpack生成html" class="headerlink" title="webpack生成html"></a>webpack生成html</h4><p>webpack默认只能打包js文件，打包html需用webpack插件 <strong>html-webpack-plugin</strong></p>
<p><strong>步骤：</strong></p>
<ol>
<li><p>下载 html-webpack-plugin 本地软件包到项目中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 webpack.config.js 让 Webpack 拥有插件功能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./public/login.html&#x27;</span>, <span class="comment">// 模板文件</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;./login/index.html&#x27;</span> <span class="comment">// 输出文件</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定以 public&#x2F;login.html 为模板复制到 dist&#x2F;login&#x2F;index.html，并自动引入其他打包后资源</p>
</li>
</ol>
<h4 id="webpack打包css到js"><a href="#webpack打包css到js" class="headerlink" title="webpack打包css到js"></a>webpack打包css到js</h4><p>最后结果是 css在js里</p>
<p>用到了webpack加载器  识别更多模块内容 </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/css-loader/">加载器 css-loader</a>：解析 css 代码</li>
<li><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/style-loader/">加载器 style-loader</a>：把解析后的 css 代码插入到 DOM（style 标签之间）</li>
</ul>
<p><strong>步骤：</strong></p>
<ol>
<li><p>准备 css 文件引入到 src&#x2F;login&#x2F;index.js 中（压缩转译处理等）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 准备 css 代码，并引入到 js 中</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;bootstrap/dist/css/bootstrap.min.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：这里只是引入代码内容让 Webpack 处理，不需定义变量接收在 JS 代码中继续使用，所以没有定义变量接收</p>
</blockquote>
</li>
<li><p>下载 css-loader 和 style-loader 本地软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i css-loader style-loader --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 webpack.config.js 让 Webpack 拥有该加载器功能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; <span class="comment">// 加载器</span></span><br><span class="line">    <span class="attr">rules</span>: [ <span class="comment">// 规则列表</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>, <span class="comment">// 匹配 .css 结尾的文件</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>], <span class="comment">// 使用从后到前的加载器来解析 css 代码和插入到 DOM</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打包后运行 dist&#x2F;login&#x2F;index.html 观察效果，看看准备好的样式是否作用在网页上</p>
</li>
</ol>
<h4 id="webpack提取css代码为独立文件"><a href="#webpack提取css代码为独立文件" class="headerlink" title="webpack提取css代码为独立文件"></a>webpack提取css代码为独立文件</h4><p>用到<strong>插件</strong> mini-css-extract-plugin</p>
<p><strong>步骤：</strong></p>
<ol>
<li><p>下载 mini-css-extract-plugin 插件软件包到本地项目中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save-dev mini-css-extract-plugin</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 webpack.config.js 让 Webpack 拥有该插件功能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">        <span class="comment">// use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>()</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打包后观察效果</p>
</li>
<li><p>注意：不能和 style-loader 一起使用</p>
</li>
<li><p>好处：css 文件可以被浏览器缓存，减少 JS 文件体积，让浏览器并行下载 css 和 js 文件</p>
</li>
</ol>
<h4 id="webpack打包less代码"><a href="#webpack打包less代码" class="headerlink" title="webpack打包less代码"></a>webpack打包less代码</h4><p>让webpack能够打包less代码</p>
<p>用到 <a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/less-loader/">加载器 less-loader</a></p>
<p><strong>步骤</strong></p>
<ol>
<li><p>建立less文件，将less样式引入到src&#x2F;login&#x2F;index.js</p>
<p><code>import &#39;./index.less&#39;</code></p>
</li>
<li><p>下载less和less-loader 本地软件包</p>
<p><code>npm i less less-loader --save-dev</code></p>
</li>
<li><p>配置webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="webpack打包图片"><a href="#webpack打包图片" class="headerlink" title="webpack打包图片"></a>webpack打包图片</h4><p>webpack有内置资源模块的打包</p>
<p><strong>步骤</strong></p>
<p>1.配置 webpack.config.js 让 Webpack 拥有打包图片功能</p>
<p>占位符 【hash】对模块内容做算法计算，得到映射的数字字母组合的字符串</p>
<p>占位符 【ext】使用当前模块原本的占位符，例如：.png &#x2F; .jpg 等字符串</p>
<p>占位符 【query】保留引入文件时代码中查询参数（只有 URL 下生效）</p>
<p>2.注意：判断临界值默认为 8KB</p>
<p>大于 8KB 文件：发送一个单独的文件并导出 URL 地址</p>
<p>小于 8KB 文件：导出一个 data URI（base64字符串）</p>
<h4 id="webpack搭建开发环境"><a href="#webpack搭建开发环境" class="headerlink" title="webpack搭建开发环境"></a>webpack搭建开发环境</h4><p>webpack-dev-server可以让每次改动代码时，自动检测变化热更新到网页</p>
<p><strong>步骤</strong></p>
<ol>
<li><p>下载webpack-dev-server软件包</p>
</li>
<li><p>配置自定义命令，设置打包模式为开发模式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack serve --mode=development&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>注</strong>：默认public文件夹为服务器根目录 也会把webpack.config.js里设置的output放到内存</p>
<p>放到内存里的output结果和output目录里的并不一样</p>
<p>可以在public里设置 跳转到 output目录即可</p>
<p>–open每次代码刷新自动打开网页</p>
<h4 id="webpack的打包模式"><a href="#webpack的打包模式" class="headerlink" title="webpack的打包模式"></a>webpack的打包模式</h4><p><strong>打包模式的分类</strong></p>
<table>
<thead>
<tr>
<th><strong>模式名称</strong></th>
<th><strong>模式名字</strong></th>
<th><strong>特点</strong></th>
<th>场景</th>
</tr>
</thead>
<tbody><tr>
<td>开发模式</td>
<td>development</td>
<td>调试代码，实时加载，模块热替换等</td>
<td>本地开发</td>
</tr>
<tr>
<td>生产模式</td>
<td>production</td>
<td>压缩代码，资源优化，更轻量等</td>
<td>打包上线</td>
</tr>
</tbody></table>
<p><strong>如何设置打包模式？</strong></p>
<p>方式1：在 webpack.config.js 配置文件设置 mode 选项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方式2：在 package.json 命令行设置 mode 参数</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack --mode=production&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack serve --mode=development&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p><strong>注</strong>：命令行设置的优先级高于配置文件中的，<strong>推荐用命令行设置</strong></p>
<h4 id="webpack打包模式的应用"><a href="#webpack打包模式的应用" class="headerlink" title="webpack打包模式的应用"></a>webpack打包模式的应用</h4><p>示例需求：在开发模式下用style-loader内嵌，在生产模式独立css代码</p>
<p><strong>方案：</strong></p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/mode/">方案</a><a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/mode/">1</a>：webpack.config.js 配置导出函数，但是局限性大（只接受 2 种模式）</p>
<p>方案2：借助 cross-env （跨平台通用）包命令，设置参数区分环境</p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/production/">方案</a><a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/production/">3</a>：配置不同的 webpack.config.js （适用多种模式差异性较大情况）</p>
<p><strong>步骤：</strong></p>
<p>1.下载cross-env软件包</p>
<p><code>npm i cross=env --save-dev</code></p>
<p>2.配置自定义命令，传入参数和值（会绑定到 process.env 对象下）</p>
<p><img src="/../img/md/cross-env%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4.png"></p>
<p>3.在 webpack.config.js 区分不同环境使用不同配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">        <span class="comment">// use: [&#x27;style-loader&#x27;, &quot;css-loader&quot;],</span></span><br><span class="line">        <span class="attr">use</span>: [process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span> ? <span class="string">&#x27;style-loader&#x27;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// compiles Less to CSS</span></span><br><span class="line">          process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span> ? <span class="string">&#x27;style-loader&#x27;</span> : <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;less-loader&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="前端注入环境变量"><a href="#前端注入环境变量" class="headerlink" title="前端注入环境变量"></a>前端注入环境变量</h4><p><strong>问题:</strong></p>
<p>cross-env 设置的只在 Node.js 环境生效，前端代码无法访问 process.env.NODE_ENV</p>
<p><strong>解决</strong>:</p>
<p>使用 Webpack 内置的 DefinePlugin 插件</p>
<p><strong>使用方式</strong></p>
<p>配置 webpack.config.js 中给前端注入环境变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// key 是注入到打包后的前端 JS 代码中作为全局变量</span></span><br><span class="line">      <span class="comment">// value 是变量对应的值（在 corss-env 注入在 node.js 中的环境变量字符串）</span></span><br><span class="line">      <span class="string">&#x27;process.env.NODE_ENV&#x27;</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(process.<span class="property">env</span>.<span class="property">NODE_ENV</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>应用场景</strong></p>
<p>前端项目中，开发模式下打印语句生效，生产模式下打印语句失效</p>
<h4 id="webpack-开发环境调错-source-map"><a href="#webpack-开发环境调错-source-map" class="headerlink" title="webpack 开发环境调错 source map"></a>webpack 开发环境调错 source map</h4><p><strong>解决问题</strong>：代码被压缩后，无法确认源代码的位置</p>
<p><strong>注：只用于开发环境,不在生产环境使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&#x27;inline-source-map&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="设置解析路径别名-alias"><a href="#设置解析路径别名-alias" class="headerlink" title="设置解析路径别名 alias"></a>设置解析路径别名 alias</h4><p><strong>例：</strong></p>
<p>原来路径如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; checkPhone, checkCode &#125; <span class="keyword">from</span> <span class="string">&#x27;../src/utils/check.js&#x27;</span></span><br></pre></td></tr></table></figure>

<p>配置解析别名：在 webpack.config.js 中设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样我们以后，引入目标模块写的路径就更简单了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; checkPhone, checkCode &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/check.js&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="优化cdn使用"><a href="#优化cdn使用" class="headerlink" title="优化cdn使用"></a>优化cdn使用</h4><p>[bootcdn](<a target="_blank" rel="noopener" href="https://www.bootcdn.cn/">BootCDN - Bootstrap 中文网开源项目免费 CDN 加速服务</a>) 查到cdn链接</p>
<p><a target="_blank" rel="noopener" href="https://unpkg.com/">unpkg</a> 查到其他链接</p>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/">npmjs</a> 查到所有cdn</p>
<p><strong>优化：</strong>开发模式使用第三方库，生产模式使用cdn加载引入</p>
<p>1.在 html 中引入第三方库的 <a target="_blank" rel="noopener" href="https://www.bootcdn.cn/">CDN </a><a target="_blank" rel="noopener" href="https://www.bootcdn.cn/">地址</a><a target="_blank" rel="noopener" href="https://www.bootcdn.cn/"> </a>并用模板语法判断</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(htmlWebpackPlugin.options.useCdn)&#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<p>2.配置 webpack.config.js 中 <a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/externals">externals</a> 外部扩展选项（防止某些 import 的包被打包）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">//外部扩展 防止生产模式时 import的包被打包进来</span></span><br><span class="line">    config.<span class="property">externals</span> = &#123;</span><br><span class="line">        <span class="comment">//key: import from 语句后面的字符串</span></span><br><span class="line">        <span class="comment">//value：留在原地的全局变量</span></span><br><span class="line">        <span class="string">&#x27;bootstrap/dist/css/bootstrap.min.css&#x27;</span>: <span class="string">&#x27;bootstrap&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;axios&#x27;</span>: <span class="string">&#x27;axios&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="comment">// 自定义属性，在 html 模板中 &lt;%=htmlWebpackPlugin.options.useCdn%&gt; 访问使用</span></span><br><span class="line">      <span class="attr">useCdn</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="webpack-多页面打包"><a href="#webpack-多页面打包" class="headerlink" title="webpack 多页面打包"></a>webpack 多页面打包</h4><p><strong>概念：</strong></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/SPA">单页面</a>：单个 html 文件，切换 DOM 的方式实现不同业务逻辑展示， Vue&#x2F;React 会用到</p>
<p>多页面：多个 html 文件，切换页面实现不同业务逻辑展示</p>
<p><strong>步骤</strong> </p>
<p>1.准备页面源码 改成模块化的导入导出方式</p>
<p>​	1.css代码包可以用cdn引入，但是自己写的css代码要模块化导入导出到index.js里</p>
<p>​	2.js代码包可以利用模板语法，生产模式引入cdn，开发模式用自己下到本地的包。自己写的js代码要模块化导入导出到index.js里</p>
<p>2.修改webpack.config.js 添加入口和出口和多页面的设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;模块名1&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src/入口1.js&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;模块名2&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src/入口2.js&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;./[name]/index.js&#x27;</span>  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./public/页面2.html&#x27;</span>, <span class="comment">// 模板文件</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;./路径/index.html&#x27;</span>, <span class="comment">// 输出文件</span></span><br><span class="line">      <span class="attr">chunks</span>: [<span class="string">&#x27;模块名2&#x27;</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./public/页面2.html&#x27;</span>, <span class="comment">// 模板文件</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;./路径/index.html&#x27;</span>, <span class="comment">// 输出文件</span></span><br><span class="line">      <span class="attr">chunks</span>: [<span class="string">&#x27;模块名2&#x27;</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="优化-分割公共代码"><a href="#优化-分割公共代码" class="headerlink" title="优化-分割公共代码"></a>优化-分割公共代码</h4><p>将多个页面引用的公共代码提取</p>
<p>配置 webpack.config.js 的 splitChunks 分割功能</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>, <span class="comment">// 所有模块动态非动态移入的都分割分析</span></span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123; <span class="comment">// 分隔组</span></span><br><span class="line">        <span class="attr">commons</span>: &#123; <span class="comment">// 抽取公共模块</span></span><br><span class="line">          <span class="attr">minSize</span>: <span class="number">0</span>, <span class="comment">// 抽取的chunk最小大小字节</span></span><br><span class="line">          <span class="attr">minChunks</span>: <span class="number">2</span>, <span class="comment">// 最小引用数</span></span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>, <span class="comment">// 当前 chunk 包含已从主 bundle 中拆分出的模块，则它将被重用</span></span><br><span class="line">          <span class="title function_">name</span>(<span class="params"><span class="variable language_">module</span>, chunks, cacheGroupKey</span>) &#123; <span class="comment">// 分离出模块文件名</span></span><br><span class="line">            <span class="keyword">const</span> allChunksNames = chunks.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">name</span>).<span class="title function_">join</span>(<span class="string">&#x27;~&#x27;</span>) <span class="comment">// 模块名1~模块名2</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">`./js/<span class="subst">$&#123;allChunksNames&#125;</span>`</span> <span class="comment">// 输出到 dist 目录下位置</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="14-json-server"><a href="#14-json-server" class="headerlink" title="14.json-server"></a>14.json-server</h2><p><code>json-server</code> 是一个用于快速搭建 RESTful API 的工具，它能够将一个 JSON 文件模拟成一个完整的 API 服务。这个工具非常适合用于前端开发过程中，需要一个简单的后端服务来提供数据和测试 API 的场景。</p>
<p>使用步骤</p>
<ol>
<li>安装全局工具 json-server （全局工具仅需要安装一次）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn global add json-server 或 npm i json-server  -g</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>代码根目录新建一个 db 目录</li>
<li>将资料 index.json 移入 db 目录</li>
<li>进入 db 目录，执行命令，启动后端接口服务 (使用–watch 参数 可以实时监听 json 文件的修改)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server  --watch  index.json</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://Rorschach23-max.github.io">Winter</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://rorschach23-max.github.io/2024/07/12/24%E6%9A%91%E5%81%87/">https://rorschach23-max.github.io/2024/07/12/24%E6%9A%91%E5%81%87/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ajax/">ajax</a></div><div class="post_share"><div class="social-share" data-image="/./img/cover/cover1.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/01/js%E5%86%99%E7%AE%97%E6%B3%95/" title="js写算法"><img class="cover" src="/./img/cover/cover1.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">js写算法</div></div></a></div><div class="next-post pull-right"><a href="/2024/06/19/%E5%89%8D%E7%AB%AF/" title="前端"><img class="cover" src="/./img/cover/cover3.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">前端</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/avatar/avatar1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Winter</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Rorschach23-max" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1561825068@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ajax"><span class="toc-number">1.</span> <span class="toc-text">ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-AJAX%E6%A6%82%E5%BF%B5%E5%92%8Caxios"><span class="toc-number">1.1.</span> <span class="toc-text">1.AJAX概念和axios</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFAJAX%EF%BC%9F"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">什么是AJAX？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E7%94%A8%E6%B3%95"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">axios用法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-URL%E5%92%8CURL%E5%8F%82%E6%95%B0%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.2.</span> <span class="toc-text">2.URL和URL参数查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E6%A6%82%E5%BF%B5%E5%92%8C%E7%BB%84%E6%88%90"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">URL概念和组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E5%8F%82%E6%95%B0%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">URL参数查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E4%B8%AD%E7%9A%84%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">URL中的端口号</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E4%B8%8E%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">1.3.</span> <span class="toc-text">3.请求报文与响应报文</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">请求报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">响应报文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">HTTP 响应状态码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Json%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8Ejs%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.4.</span> <span class="toc-text">4.Json字符串与js对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#json%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%A6"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">json字符串的展开运算符…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-stringify-obj"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">JSON.stringify(obj)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-parse-jsonString"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">JSON.parse(jsonString)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object-keys-obj"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">Object.keys(obj)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%BE%97%E5%AF%B9%E8%B1%A1obj%E6%9F%90%E4%B8%AA%E9%94%AEkey%E7%9A%84%E5%80%BC-obj-key"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">获得对象obj某个键key的值 obj[key]</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Ajax%E5%8E%9F%E7%90%86"><span class="toc-number">1.5.</span> <span class="toc-text">5.Ajax原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax%E5%8E%9F%E7%90%86"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">ajax原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XMLHttpRequest%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9B%9B%E4%B8%AA%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">XMLHttpRequest的使用四个步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xmlhttprequest%E5%8F%82%E6%95%B0%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">xmlhttprequest参数查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URLSearchParams-API"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">URLSearchParams API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-body%E5%8F%82%E6%95%B0-%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4API-setRequestHeader"><span class="toc-number">1.5.0.5.</span> <span class="toc-text">请求参数 body参数 &amp;设置请求头API setRequestHeader</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-promise"><span class="toc-number">1.6.</span> <span class="toc-text">6.promise</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#promise%E6%A6%82%E5%BF%B5"><span class="toc-number">1.6.0.1.</span> <span class="toc-text">promise概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#promise%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.6.0.2.</span> <span class="toc-text">promise使用步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Promise-%E6%9C%89%E5%93%AA%E4%B8%89%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%9F"><span class="toc-number">1.6.0.3.</span> <span class="toc-text">Promise 有哪三种状态？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%B0%81%E8%A3%85%E7%AE%80%E6%98%93axios"><span class="toc-number">1.7.</span> <span class="toc-text">7.封装简易axios</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%90%8C%E6%AD%A5-%E5%BC%82%E6%AD%A5"><span class="toc-number">1.8.</span> <span class="toc-text">8.同步 异步</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81-%E5%BC%82%E6%AD%A5%E4%BB%A3%E7%A0%81"><span class="toc-number">1.8.0.1.</span> <span class="toc-text">同步代码 异步代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1"><span class="toc-number">1.8.0.2.</span> <span class="toc-text">回调地狱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Promise%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8"><span class="toc-number">1.8.0.3.</span> <span class="toc-text">Promise链式调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async%E5%87%BD%E6%95%B0%E5%92%8Cawait"><span class="toc-number">1.8.0.4.</span> <span class="toc-text">async函数和await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E9%94%99%E8%AF%AF-try%E2%80%A6catch"><span class="toc-number">1.8.0.5.</span> <span class="toc-text">捕获错误 try…catch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%EF%BC%88EventLoop%EF%BC%89"><span class="toc-number">1.8.0.6.</span> <span class="toc-text">事件循环（EventLoop）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.8.0.7.</span> <span class="toc-text">宏任务与微任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Promise-all-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">1.8.0.8.</span> <span class="toc-text">Promise.all 静态方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E4%B8%80%E4%BA%9B%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="toc-number">1.9.</span> <span class="toc-text">9.一些第三方库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#serialize-js%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-number">1.9.0.1.</span> <span class="toc-text">serialize.js收集表单数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8-wangEditor%E6%8F%92%E4%BB%B6"><span class="toc-number">1.9.0.2.</span> <span class="toc-text">富文本编辑器-wangEditor插件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-axios"><span class="toc-number">1.10.</span> <span class="toc-text">10.axios</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E9%85%8D%E7%BD%AE%E5%9F%BA%E5%9C%B0%E5%9D%80"><span class="toc-number">1.10.0.1.</span> <span class="toc-text">axios配置基地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#token-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BB%A4%E7%89%8C"><span class="toc-number">1.10.0.2.</span> <span class="toc-text">token 访问权限令牌</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E4%BC%A0%E9%80%92%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%8F%82%E6%95%B0"><span class="toc-number">1.10.0.3.</span> <span class="toc-text">axios传递请求头参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.10.0.4.</span> <span class="toc-text">axios请求拦截器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.10.0.5.</span> <span class="toc-text">axios响应拦截器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.11.</span> <span class="toc-text">11.正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.11.0.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.11.0.2.</span> <span class="toc-text">常用符号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%AD%97%E7%AC%A6%E7%B1%BB"><span class="toc-number">1.11.0.3.</span> <span class="toc-text">预定义字符类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.11.1.</span> <span class="toc-text">常用示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-Node-js"><span class="toc-number">1.12.</span> <span class="toc-text">12.Node.js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3Nodejs"><span class="toc-number">1.12.0.1.</span> <span class="toc-text">了解Nodejs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fs%E6%A8%A1%E5%9D%97-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%BA%A4%E4%BA%92"><span class="toc-number">1.12.0.2.</span> <span class="toc-text">fs模块-文件系统交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#path%E6%A8%A1%E5%9D%97-%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86"><span class="toc-number">1.12.0.3.</span> <span class="toc-text">path模块-路径处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#http%E6%A8%A1%E5%9D%97-%E5%88%9B%E5%BB%BAweb%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.12.0.4.</span> <span class="toc-text">http模块-创建web服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#express%E6%A8%A1%E5%9D%97-%E5%88%9B%E5%BB%BAweb%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.12.0.5.</span> <span class="toc-text">express模块-创建web服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nodejs%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">1.12.0.6.</span> <span class="toc-text">nodejs模块化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ECMAScript%E6%A0%87%E5%87%86%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA"><span class="toc-number">1.12.0.7.</span> <span class="toc-text">ECMAScript标准的导入导出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.12.0.8.</span> <span class="toc-text">包的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#npm"><span class="toc-number">1.12.0.9.</span> <span class="toc-text">npm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pnpm"><span class="toc-number">1.12.0.10.</span> <span class="toc-text">pnpm</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-Webpack"><span class="toc-number">1.13.</span> <span class="toc-text">13.Webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.13.0.1.</span> <span class="toc-text">webpack概念和使用步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#weback%E4%BF%AE%E6%94%B9%E5%85%A5%E5%8F%A3%E5%92%8C%E5%87%BA%E5%8F%A3"><span class="toc-number">1.13.0.2.</span> <span class="toc-text">weback修改入口和出口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E7%94%9F%E6%88%90html"><span class="toc-number">1.13.0.3.</span> <span class="toc-text">webpack生成html</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85css%E5%88%B0js"><span class="toc-number">1.13.0.4.</span> <span class="toc-text">webpack打包css到js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%8F%90%E5%8F%96css%E4%BB%A3%E7%A0%81%E4%B8%BA%E7%8B%AC%E7%AB%8B%E6%96%87%E4%BB%B6"><span class="toc-number">1.13.0.5.</span> <span class="toc-text">webpack提取css代码为独立文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85less%E4%BB%A3%E7%A0%81"><span class="toc-number">1.13.0.6.</span> <span class="toc-text">webpack打包less代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85%E5%9B%BE%E7%89%87"><span class="toc-number">1.13.0.7.</span> <span class="toc-text">webpack打包图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">1.13.0.8.</span> <span class="toc-text">webpack搭建开发环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E7%9A%84%E6%89%93%E5%8C%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.13.0.9.</span> <span class="toc-text">webpack的打包模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.13.0.10.</span> <span class="toc-text">webpack打包模式的应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%B3%A8%E5%85%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.13.0.11.</span> <span class="toc-text">前端注入环境变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E8%B0%83%E9%94%99-source-map"><span class="toc-number">1.13.0.12.</span> <span class="toc-text">webpack 开发环境调错 source map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%A7%A3%E6%9E%90%E8%B7%AF%E5%BE%84%E5%88%AB%E5%90%8D-alias"><span class="toc-number">1.13.0.13.</span> <span class="toc-text">设置解析路径别名 alias</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96cdn%E4%BD%BF%E7%94%A8"><span class="toc-number">1.13.0.14.</span> <span class="toc-text">优化cdn使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-%E5%A4%9A%E9%A1%B5%E9%9D%A2%E6%89%93%E5%8C%85"><span class="toc-number">1.13.0.15.</span> <span class="toc-text">webpack 多页面打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-%E5%88%86%E5%89%B2%E5%85%AC%E5%85%B1%E4%BB%A3%E7%A0%81"><span class="toc-number">1.13.0.16.</span> <span class="toc-text">优化-分割公共代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-json-server"><span class="toc-number">1.14.</span> <span class="toc-text">14.json-server</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/05/htmlcss/" title="htmlcss"><img src="/./img/cover/cover3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="htmlcss"/></a><div class="content"><a class="title" href="/2024/09/05/htmlcss/" title="htmlcss">htmlcss</a><time datetime="2024-09-05T06:01:32.000Z" title="Created 2024-09-05 14:01:32">2024-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/06/javascript/" title="javascript"><img src="/./img/cover/cover1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javascript"/></a><div class="content"><a class="title" href="/2024/08/06/javascript/" title="javascript">javascript</a><time datetime="2024-08-06T07:30:29.000Z" title="Created 2024-08-06 15:30:29">2024-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/01/js%E5%86%99%E7%AE%97%E6%B3%95/" title="js写算法"><img src="/./img/cover/cover1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="js写算法"/></a><div class="content"><a class="title" href="/2024/08/01/js%E5%86%99%E7%AE%97%E6%B3%95/" title="js写算法">js写算法</a><time datetime="2024-08-01T06:51:43.000Z" title="Created 2024-08-01 14:51:43">2024-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/12/24%E6%9A%91%E5%81%87/" title="24暑假"><img src="/./img/cover/cover1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24暑假"/></a><div class="content"><a class="title" href="/2024/07/12/24%E6%9A%91%E5%81%87/" title="24暑假">24暑假</a><time datetime="2024-07-12T12:20:59.000Z" title="Created 2024-07-12 20:20:59">2024-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/%E5%89%8D%E7%AB%AF/" title="前端"><img src="/./img/cover/cover3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端"/></a><div class="content"><a class="title" href="/2024/06/19/%E5%89%8D%E7%AB%AF/" title="前端">前端</a><time datetime="2024-06-19T04:21:42.000Z" title="Created 2024-06-19 12:21:42">2024-06-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Winter</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>