<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Vue笔记 | Winter</title><meta name="author" content="Winter"><meta name="copyright" content="Winter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Vue2使用Vue引用Vue.js1 放到body后，DOM加载完后引用  2 先引用vue.js 再引用自己的js 1234&lt;&#x2F;body&gt;&lt;script src&#x3D;&quot;js&#x2F;jquery-3.5.1.js&quot;&gt;&lt;&#x2F;script&gt;&lt;script src&#x3D;&quot;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;&lt;s">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue笔记">
<meta property="og:url" content="https://rorschach23-max.github.io/2024/04/15/Vue%E7%AC%94%E8%AE%B0/Vue%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Winter">
<meta property="og:description" content="Vue2使用Vue引用Vue.js1 放到body后，DOM加载完后引用  2 先引用vue.js 再引用自己的js 1234&lt;&#x2F;body&gt;&lt;script src&#x3D;&quot;js&#x2F;jquery-3.5.1.js&quot;&gt;&lt;&#x2F;script&gt;&lt;script src&#x3D;&quot;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;&lt;s">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://rorschach23-max.github.io/img/cover/cover3.jpeg">
<meta property="article:published_time" content="2024-04-15T09:09:21.000Z">
<meta property="article:modified_time" content="2024-08-31T09:14:14.000Z">
<meta property="article:author" content="Winter">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://rorschach23-max.github.io/img/cover/cover3.jpeg"><link rel="shortcut icon" href="/./img/favicon/favicon1.jpeg"><link rel="canonical" href="https://rorschach23-max.github.io/2024/04/15/Vue%E7%AC%94%E8%AE%B0/Vue%E7%AC%94%E8%AE%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-31 17:14:14'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/avatar/avatar1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/cover/cover3.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="Winter"><span class="site-name">Winter</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-04-15T09:09:21.000Z" title="Created 2024-04-15 17:09:21">2024-04-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-08-31T09:14:14.000Z" title="Updated 2024-08-31 17:14:14">2024-08-31</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">14.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>61min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h2><h3 id="使用Vue"><a href="#使用Vue" class="headerlink" title="使用Vue"></a>使用Vue</h3><h4 id="引用Vue-js"><a href="#引用Vue-js" class="headerlink" title="引用Vue.js"></a>引用Vue.js</h4><p>1 放到body后，DOM加载完后引用 </p>
<p>2 先引用vue.js 再引用自己的js</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-3.5.1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/lookUp.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;vue_test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>site : &#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>url : &#123;&#123;url&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;details()&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;#vue_test&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">site</span>: <span class="string">&quot;Winter&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">url</span>: <span class="string">&quot;www.winterlee.top.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">details</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span>  <span class="variable language_">this</span>.<span class="property">site</span> + <span class="string">&quot; Winter&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>1.Vue构造器中参数el与DOM中元素的id保持一致</p>
<p>2.data用于定义属性，存放数据和变量</p>
<p>3.methods用于定义函数</p>
<h3 id="Vue指令"><a href="#Vue指令" class="headerlink" title="Vue指令"></a>Vue指令</h3><h4 id="v-html和v-text"><a href="#v-html和v-text" class="headerlink" title="v-html和v-text"></a>v-html和v-text</h4><p>v-html和v-text用来辅助渲染DOM元素的文本内容。</p>
<p>v-text（类似innerText）v-html（类似 innerHTML）</p>
<p>使用该标签属性后，会覆盖标签内部内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&#x27;html&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; </span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg</span>: <span class="string">&#x27;!!!!!&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&#x27;winter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">html</span>: <span class="string">`&lt;a href=&quot;http://www.winterlee.top&quot;&gt;winter的博客&lt;/a&gt;`</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><p>v-for 可以绑定数据到数组来渲染一个列表：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;province&quot;</span> &gt;</span>省份:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;province&quot;</span>  <span class="attr">name</span>=<span class="string">&quot;province&quot;</span> <span class="attr">onChange</span>=<span class="string">&quot;switchSubjects()&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;(province,index) in provinces&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;province.value&quot;</span>&gt;</span>&#123;&#123;province.name&#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>样例中provinces是Vue实例中的数据 province是其元素迭代别名 </p>
<p>v-for中的**:key后面跟唯一标识，确保列表项正确排序复用**</p>
<p><strong>为什么加key：</strong>Vue 的默认行为会尝试原地修改元素（<strong>就地复用</strong>）</p>
<h4 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h4><p>v-if用来显示或者隐藏元素，并控制元素的创建和移除：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;subject-row&quot;</span> <span class="attr">id</span>=<span class="string">&quot;type-0&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;type===0&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;subject-button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;subject&quot;</span> <span class="attr">value</span>=<span class="string">&quot;文史&quot;</span></span></span><br><span class="line"><span class="tag">                @<span class="attr">click</span>=<span class="string">&quot;onActivateWenke&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wenke&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;:selectedWenke&#125;&quot;</span>&gt;</span>文科<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;subject-button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;subject&quot;</span> <span class="attr">value</span>=<span class="string">&quot;理工&quot;</span></span></span><br><span class="line"><span class="tag">                @<span class="attr">click</span>=<span class="string">&quot;onActivateLike&quot;</span> <span class="attr">id</span>=<span class="string">&quot;like&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;:selectedLike&#125;&quot;</span>&gt;</span>理科<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>v-if后面跟着JS语句 其值决定是否隐藏该元素</p>
<p>还有v-else-if v-else 需要跟在v-if或者v-else-if后面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;gender === 1&quot;</span>&gt;</span>性别：♂ 男<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>=<span class="string">&quot;&quot;</span>&gt;</span>性别：♀ 女<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;score &gt; 90&quot;</span>&gt;</span>成绩评定A：奖励电脑一台<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt; 80&quot;</span>&gt;</span>成绩评定B：奖励周末郊游<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt; 70&quot;</span>&gt;</span>成绩评定C：奖励零食礼包<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>=<span class="string">&quot;&quot;</span>&gt;</span>成绩评定D：惩罚一周不能玩手机<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">gender</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">score</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-show和v-if的区别？"><a href="#v-show和v-if的区别？" class="headerlink" title="v-show和v-if的区别？"></a>v-show和v-if的区别？</h4><p>v-if用来显示或者隐藏元素，并控制元素的创建和移除</p>
<p>v-show切换css的display：none来控制显示隐藏</p>
<p>v-show适合频繁显示隐藏的，v-if则反之</p>
<h4 id="v-on-click-和-v-on-change"><a href="#v-on-click-和-v-on-change" class="headerlink" title="v-on:click 和 v-on:change"></a>v-on:click 和 v-on:change</h4><ul>
<li>&lt;button v-on:事件名&#x3D;”内联语句”&gt;按钮</button></li>
<li>&lt;button v-on:事件名&#x3D;”处理函数”&gt;按钮</button></li>
<li>&lt;button v-on:事件名&#x3D;”处理函数(实参)”&gt;按钮</button></li>
<li><code>v-on:</code> 简写为 <strong>@</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;message&quot;</span>&gt;</span>一键智能查询<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>缩写是 @click和@change</p>
<h4 id="v-bind-和-v-model"><a href="#v-bind-和-v-model" class="headerlink" title="v-bind 和 v-model"></a>v-bind 和 v-model</h4><p>v-bind 绑定Vue数据到html元素</p>
<p><strong>作用：</strong>动态设置html的标签属性 比如：src、url、title</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;province&quot;</span>  <span class="attr">name</span>=<span class="string">&quot;province&quot;</span> <span class="attr">onChange</span>=<span class="string">&quot;switchSubjects()&quot;</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;province in provinces&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;province.value&quot;</span>&gt;</span>&#123;&#123;province.name&#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 其他省份 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里的:value 实际是 v-bind:value的<strong>简写</strong></p>
<p>v-model实现数据和html元素的<strong>双向绑定</strong></p>
<p><strong>作用：</strong> 给<strong>表单元素</strong>（input、radio、select）使用，双向绑定数据，可以快速 <strong>获取</strong> 或 <strong>设置</strong> 表单元素内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;score&quot;</span>&gt;</span>分数:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">id</span>=<span class="string">&quot;score&quot;</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入您的分数&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;score&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改一个 变两个</p>
<h3 id="指令修饰符"><a href="#指令修饰符" class="headerlink" title="指令修饰符"></a>指令修饰符</h3><p>所谓指令修饰符就是通过<code>.</code>指明一些指令<strong>后缀</strong></p>
<p>不同<strong>后缀</strong>封装不同的处理操作  用于简化代码</p>
<h4 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a><strong>按键修饰符</strong></h4><p>例如</p>
<p>@keyup.enter  —&gt;当松开enter键的时候才触发</p>
<h4 id="v-model修饰符"><a href="#v-model修饰符" class="headerlink" title="v-model修饰符"></a>v-model修饰符</h4><ul>
<li>v-model.trim  —&gt;去除首位空格</li>
<li>v-model.number —&gt;转数字</li>
</ul>
<h4 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h4><ul>
<li>@事件名.stop —&gt; 阻止冒泡（例如点击子元素，阻止父元素也被点击）</li>
<li>@事件名.prevent  —&gt;阻止默认行为</li>
<li>@事件名.stop.prevent —&gt;可以连用 即阻止事件冒泡也阻止默认行为</li>
</ul>
<h3 id="v-bind对样式的控制"><a href="#v-bind对样式的控制" class="headerlink" title="v-bind对样式的控制"></a>v-bind对样式的控制</h3><h4 id="v-bind控制class"><a href="#v-bind控制class" class="headerlink" title="v-bind控制class"></a>v-bind控制class</h4><p><strong>语法</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> :class = &quot;对象/数组&quot;&gt;这是一个div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>对象语法</strong></p>
<p>当class动态绑定的是<strong>对象</strong>时，<strong>键就是类名，值就是布尔值</strong>，如果值是<strong>true</strong>，就有这个类，否则没有这个类</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; 类名1: 布尔值, 类名2: 布尔值 &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>适用场景：</strong>一个类名，来回切换</p>
<p><strong>数组语法</strong></p>
<p>当class动态绑定的是<strong>数组</strong>时 → 数组中所有的类，都会添加到盒子上，本质就是一个 class 列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;[ 类名1, 类名2, 类名3 ]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>使用场景：</strong>需要对类批量添加或者删除时</p>
<h4 id="v-bind控制style"><a href="#v-bind控制style" class="headerlink" title="v-bind控制style"></a>v-bind控制style</h4><p><strong>语法</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; CSS属性名1: CSS属性值, CSS属性名2: CSS属性值 &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong> 属性键名不能用横杠 需使用引号或者驼峰</p>
<h3 id="v-model应用表单元素"><a href="#v-model应用表单元素" class="headerlink" title="v-model应用表单元素"></a>v-model应用表单元素</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">输入框  <span class="attr">input</span>:text   ——&gt; value</span><br><span class="line">文本域  textarea	 ——&gt; value</span><br><span class="line">复选框  <span class="attr">input</span>:checkbox  ——&gt; checked</span><br><span class="line">单选框  <span class="attr">input</span>:radio   ——&gt; checked</span><br><span class="line">下拉菜单 select    ——&gt; value</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="计算属性computed"><a href="#计算属性computed" class="headerlink" title="计算属性computed"></a>计算属性computed</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p><strong>概念</strong></p>
<p>基于<strong>现有的数据</strong>，计算出来的<strong>新属性</strong>。 <strong>依赖</strong>的数据变化，<strong>自动</strong>重新计算。</p>
<p><strong>语法</strong></p>
<ol>
<li>声明在 <strong>computed 配置项</strong>中，一个计算属性对应一个函数</li>
<li>使用起来和普通属性一样使用  </li>
</ol>
<p><strong>注意</strong></p>
<ol>
<li>computed配置项和data配置项是<strong>同级</strong>的</li>
<li>computed中的计算属性<strong>虽然是函数的写法</strong>，但他<strong>依然是个属性</strong></li>
<li>computed中的计算属性<strong>不能</strong>和data中的属性<strong>同名</strong></li>
<li>使用computed中的计算属性和使用data中的属性是一样的用法</li>
<li>computed中计算属性内部的<strong>this</strong>依然<strong>指向的是Vue实例</strong></li>
</ol>
<h4 id="computed的简易使用"><a href="#computed的简易使用" class="headerlink" title="computed的简易使用"></a>computed的简易使用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">computed</span>:&#123;</span><br><span class="line">        <span class="comment">/*计算属性名()&#123;</span></span><br><span class="line"><span class="comment">  			...</span></span><br><span class="line"><span class="comment">        &#125; */</span></span><br><span class="line">        <span class="title function_">totalCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> total = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> sum + item.<span class="property">num</span>, <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> total</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>总数：&#123;&#123;totalCount&#125;&#125; 个<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="计算属性完整写法"><a href="#计算属性完整写法" class="headerlink" title="计算属性完整写法"></a>计算属性完整写法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">computed:&#123;</span></span><br><span class="line"><span class="comment">	对象名:&#123;</span></span><br><span class="line"><span class="comment">		get()&#123; 计算属性被调用时 get方法被调用</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		&#125;，</span></span><br><span class="line"><span class="comment">		set(newValue)&#123; 计算属性改变时set方法被调用，且计算属性的新值作为newValue传到set里</span></span><br><span class="line"><span class="comment">			...</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">	&#125;	</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">        <span class="attr">fullName</span>:&#123;</span><br><span class="line">          <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="title function_">set</span>(<span class="params">newValue</span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">firstName</span> = (newValue.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">lastName</span> = (newValue.<span class="title function_">slice</span>(<span class="number">1</span>))</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>即 获取+设置 </p>
<p>一个计算属性被获取时被调用，一个计算属性被设置时被调用</p>
<h4 id="computed的优势-缓存特性"><a href="#computed的优势-缓存特性" class="headerlink" title="computed的优势-缓存特性"></a>computed的优势-缓存特性</h4><p> 计算属性会对计算出来的结果，之后被调用会直接读取缓存</p>
<p>依赖项变化后，会重新计算再缓存</p>
<p><strong>多次调用只计算一次</strong></p>
<h3 id="watch监视器"><a href="#watch监视器" class="headerlink" title="watch监视器"></a>watch监视器</h3><p><strong>监视数据变化</strong>，执行一些业务逻辑</p>
<p>简单写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">words</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">watch</span>:&#123;</span><br><span class="line">    <span class="title function_">words</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>完整写法(对多个数据监视或者有其他要求时)</p>
<ol>
<li>deep:true 对复杂类型进行深度监听 （对象中的属性，只要一个变了就被监听到）</li>
<li>immediate:true 初始化 立刻执行一次（一进页面，立刻执行一次）</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">  <span class="attr">obj</span>: &#123;</span><br><span class="line">    <span class="attr">words</span>: <span class="string">&#x27;苹果&#x27;</span>,</span><br><span class="line">    <span class="attr">lang</span>: <span class="string">&#x27;italy&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="attr">watch</span>: &#123;<span class="comment">// watch 完整写法</span></span><br><span class="line">  对象: &#123;</span><br><span class="line">    <span class="attr">deep</span>: <span class="literal">true</span>, <span class="comment">// 深度监视</span></span><br><span class="line">    <span class="attr">immdiate</span>:<span class="literal">true</span>,<span class="comment">//一进页面，立即执行handler函数</span></span><br><span class="line">    handler (newValue) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>防抖</strong> 延迟执行，一定时间没有执行后再请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">          <span class="attr">obj</span>:&#123;</span><br><span class="line">            <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            handler (newValue, oldValue) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setTimeout</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">              <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>:<span class="string">&#x27;https://applet-base-api-t.itheima.net/api/translate&#x27;</span>,</span><br><span class="line">              <span class="attr">params</span>:&#123;</span><br><span class="line">                <span class="attr">words</span>: <span class="variable language_">this</span>.<span class="property">words</span>,</span><br><span class="line">                <span class="attr">lang</span>: <span class="variable language_">this</span>.<span class="property">lang</span></span><br><span class="line">              &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">result</span> =res.<span class="property">data</span>.<span class="property">data</span>;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>.<span class="property">data</span>);</span><br><span class="line">              &#125;,<span class="number">300</span>)</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue生命周期"><a href="#Vue生命周期" class="headerlink" title="Vue生命周期"></a>Vue生命周期</h3><p><strong>生命周期：</strong>一个Vue实例从创建到销毁的整个过程</p>
<p><strong>四个阶段</strong>：<strong>创建，挂载，更新，销毁</strong></p>
<p>1.创建阶段：创建响应式数据</p>
<p>2.挂载阶段：渲染模板</p>
<p>3.更新阶段：修改数据，更新视图</p>
<p>4.销毁阶段：销毁Vue实例</p>
<p><img src="/..%5Cimg%5Cmd%5CVue%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png"></p>
<p><strong>初始化渲染请求的时间</strong> 创建阶段结束后</p>
<p><strong>操作dom的时间</strong> 挂载阶段结束后</p>
<h4 id="Vue生命周期函数（钩子函数）"><a href="#Vue生命周期函数（钩子函数）" class="headerlink" title="Vue生命周期函数（钩子函数）"></a>Vue生命周期函数（钩子函数）</h4><p>Vue生命周期过程中，会<strong>自动运行一些函数</strong>，被称为【<strong>生命周期钩子</strong>】→  让开发者可以在【<strong>特定阶段</strong>】运行<strong>自己的代码</strong></p>
<p><img src="/..%5Cimg%5Cmd%5CVue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.png"></p>
<p><strong>created</strong> 发送初始化渲染请求</p>
<p><strong>mounted</strong> 操作dom</p>
<p><strong>beforeUpdate</strong>和<strong>updated</strong>只有 修改数据才会被调用</p>
<p><strong>beforeUpdate</strong>里 数据已经修改 但视图还没更新</p>
<p><strong>updated</strong>里 数据已经修改 视图也已经更新</p>
<p><strong>beforedestroy</strong> 释放Vue实例以外 的资源</p>
<h3 id="Vue工程化开发版本对应"><a href="#Vue工程化开发版本对应" class="headerlink" title="Vue工程化开发版本对应"></a>Vue工程化开发版本对应</h3><p>Vue<strong>2</strong>—VueRouter<strong>3</strong>.x—Vuex<strong>3</strong>.x</p>
<p>Vue<strong>3</strong>—VueRouter<strong>4</strong>.x—Vuex<strong>4</strong>.x</p>
<h3 id="Vue工程化开发和脚手架"><a href="#Vue工程化开发和脚手架" class="headerlink" title="Vue工程化开发和脚手架"></a>Vue工程化开发和脚手架</h3><h4 id="开发Vue的两种方式"><a href="#开发Vue的两种方式" class="headerlink" title="开发Vue的两种方式"></a>开发Vue的两种方式</h4><ul>
<li><p>核心包传统开发模式：基于html &#x2F; css &#x2F; js 文件，直接引入核心包，开发 Vue。</p>
</li>
<li><p><strong>工程化开发模式：基于构建工具（例如：webpack）的环境中开发Vue。</strong></p>
<p><img src="/..%5Cimg%5Cmd%5CVue%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91.png"></p>
</li>
</ul>
<h4 id="脚手架Vue-CLI"><a href="#脚手架Vue-CLI" class="headerlink" title="脚手架Vue CLI"></a>脚手架Vue CLI</h4><p><strong>基本概念</strong></p>
<p> Vue CLI 是Vue官方提供的一个<strong>全局命令工具</strong></p>
<p>   可以帮助我们<strong>快速创建</strong>一个开发Vue项目的<strong>标准化基础架子</strong>。【集成了webpack配置】</p>
<p><strong>好处：</strong></p>
<ol>
<li>零配置</li>
<li>内置babel等工具</li>
<li>标准化的webpack配置</li>
</ol>
<p><strong>使用步骤：</strong></p>
<ol>
<li>全局安装（只需安装一次即可） yarn global add @vue&#x2F;cli 或者 npm i @vue&#x2F;cli -g</li>
<li>查看vue&#x2F;cli版本： vue –version</li>
<li>创建项目架子：<strong>vue create project-name</strong>(项目名不能使用中文)</li>
<li>启动项目：<strong>yarn serve</strong> 或者 <strong>npm run serve</strong>(命令不固定，找package.json)</li>
</ol>
<h3 id="VueCLi自定义创建项目"><a href="#VueCLi自定义创建项目" class="headerlink" title="VueCLi自定义创建项目"></a>VueCLi自定义创建项目</h3><p>1.安装脚手架 (已安装)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @vue/cli -g</span><br></pre></td></tr></table></figure>

<p>2.创建项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create hm-exp-mobile</span><br></pre></td></tr></table></figure>

<ul>
<li>选项</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span> <span class="variable constant_">CLI</span> v5<span class="number">.0</span><span class="number">.8</span></span><br><span class="line">? <span class="title class_">Please</span> pick a <span class="attr">preset</span>:</span><br><span class="line">  <span class="title class_">Default</span> ([<span class="title class_">Vue</span> <span class="number">3</span>] babel, eslint)</span><br><span class="line">  <span class="title class_">Default</span> ([<span class="title class_">Vue</span> <span class="number">2</span>] babel, eslint)</span><br><span class="line">&gt; <span class="title class_">Manually</span> select features     选自定义</span><br></pre></td></tr></table></figure>

<p><img src="/..%5Cimg%5Cmd%5CVue%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE.png"></p>
<ul>
<li>选择Vue版本</li>
<li>是否使用history模式 （项目目录不带#）</li>
<li>选择css预处理</li>
<li>选择eslint风格（代码规范校验工具）</li>
<li>选择校验的时机</li>
<li>配置文件的生成方式 独立的还是统一在package.json里</li>
<li>是否保存预设</li>
</ul>
<h3 id="Vue项目目录介绍和运行流程"><a href="#Vue项目目录介绍和运行流程" class="headerlink" title="Vue项目目录介绍和运行流程"></a>Vue项目目录介绍和运行流程</h3><h4 id="项目目录介绍"><a href="#项目目录介绍" class="headerlink" title="项目目录介绍"></a>项目目录介绍</h4><p><img src="/..%5Cimg%5Cmd%5CVue%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D.png"></p>
<p><strong>重点</strong></p>
<ol>
<li>main.js  入口文件</li>
<li>App.vue  App根组件  （vue实例都在这写）</li>
<li>index.html 模板文件</li>
</ol>
<h4 id="运行流程"><a href="#运行流程" class="headerlink" title="运行流程"></a>运行流程</h4><p><img src="/..%5Cimg%5Cmd%5CVue%E5%B7%A5%E7%A8%8B%E9%A1%B9%E7%9B%AE%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B.png"></p>
<p>main.js代码示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//导入App.vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//当前出于生产环境还是开发环境</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// el:&#x27;#app&#x27; 和 $mount(&#x27;#app)一样</span></span><br><span class="line">  <span class="comment">// render: h =&gt; h(App) 和下方一样 h和create都是形参</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">createElement</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">createElement</span>(<span class="title class_">App</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h4><p><strong>组件化</strong>：一个页面可以拆分成一个个组件，每个组件有着自己独立的结构、样式、行为。</p>
<p><strong>好处</strong>：便于维护，利于复用 → 提升开发效率。</p>
<p>​     <strong>组件分类</strong>：普通组件、根组件。</p>
<p>​      比如：下面这个页面，可以把所有的代码都写在一个页面中，但是这样显得代码比较混乱，难易维护。可以按模块进行组件划分</p>
<p><img src="/..%5Cimg%5Cmd%5CVue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91.png"></p>
<h3 id="根组件-App-vue"><a href="#根组件-App-vue" class="headerlink" title="根组件 App.vue"></a>根组件 App.vue</h3><p>根组件包裹所有组件</p>
<ul>
<li><p>三部分构成</p>
<ul>
<li>template：结构 （有且只能一个根元素）</li>
<li>script:   js逻辑 </li>
<li>style： 样式 (可支持less，需要装包)</li>
</ul>
</li>
<li><p>让组件支持less</p>
<p>（1） style标签，lang&#x3D;”less” 开启less功能 </p>
<p>（2） 装包: yarn add less less-loader -D 或者npm i less less-loader -D</p>
</li>
</ul>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 结构 vue2只支持一个根节点--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;App&quot; &gt;</span><br><span class="line">    &lt;!-- 头 --&gt;</span><br><span class="line">    &lt;WinterHeader&gt;&lt;/WinterHeader&gt;</span><br><span class="line">    &lt;WinterHeader&gt;&lt;/WinterHeader&gt;</span><br><span class="line">    &lt;!-- 组 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 底 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import WinterHeader from &#x27;./components/WinterHeader.vue&#x27;;</span><br><span class="line">// 导出的是当前组件的配置项</span><br><span class="line">// 里面可以提供 data(特殊) methods computed watch 生命周期八大钩子</span><br><span class="line">export default &#123;</span><br><span class="line">  components:&#123;</span><br><span class="line">    WinterHeader: WinterHeader</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line">/* 支持less 需要1 加上lang=&quot;less&quot; 2 安装依赖包 less less-loader*/</span><br><span class="line">.App &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  height: 700px;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="普通组件的注册使用-局部注册"><a href="#普通组件的注册使用-局部注册" class="headerlink" title="普通组件的注册使用-局部注册"></a>普通组件的注册使用-局部注册</h3><p><strong>局部注册</strong>(只能在注册的组件内使用)</p>
<ol>
<li><p>创建.vue文件</p>
</li>
<li><p>在使用的组件.vue内先导入再注册，最后使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 导入</span><br><span class="line">...</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import 组件对象 from &#x27;.vue文件路径&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    components:&#123;</span><br><span class="line">        组件名: 组件对象,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用方式</strong> 当成html标签即可 &lt;组件名&gt;&lt;&#x2F;组件名&gt;</p>
</li>
<li><p><strong>组件名规范</strong> —&gt; 大驼峰命名法 如WinterHeader</p>
</li>
</ol>
<h3 id="普通组件的注册使用-全局注册"><a href="#普通组件的注册使用-全局注册" class="headerlink" title="普通组件的注册使用-全局注册"></a>普通组件的注册使用-全局注册</h3><p><strong>全局注册</strong>（在项目的任何组件中都能使用）</p>
<ol>
<li><p>创建vue组件</p>
</li>
<li><p><strong>main.js</strong>中进行全局注册</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 组件对象 <span class="keyword">from</span> <span class="string">&#x27;.vue文件路径&#x27;</span></span><br><span class="line">vue.<span class="title function_">component</span>(<span class="string">&#x27;组件名&#x27;</span>, 组件对象)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用方式</strong> 当成html标签即可 &lt;组件名&gt;&lt;&#x2F;组件名&gt;</p>
</li>
</ol>
<p>vscode vue不高亮 有的文件夹没有图标</p>
<p>微软账号改 发送邮箱</p>
<h3 id="scoped解决样式冲突"><a href="#scoped解决样式冲突" class="headerlink" title="scoped解决样式冲突"></a>scoped解决样式冲突</h3><p>scoped 让组件的样式是独立的，只作用于当前组件</p>
<p><strong>scoped使用</strong> </p>
<p>给style添加<strong>scoped属性</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; ... &lt;/template&gt;</span><br><span class="line">&lt;script&gt; ... &lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt; ... &lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><strong>scoped原理</strong></p>
<p>当前组件内标签都被添加<strong>data-v-hash值</strong> 的属性 </p>
<h3 id="组件的数据-data必须写成函数"><a href="#组件的数据-data必须写成函数" class="headerlink" title="组件的数据 data必须写成函数"></a>组件的数据 data必须写成函数</h3><p>写成函数的<strong>目的</strong>是 让每一个组件实例的数据是独立的</p>
<p>示例代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; ... &lt;/template&gt;</span><br><span class="line">&lt;script&gt; </span><br><span class="line">export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            数据1: &#x27;&#x27;,</span><br><span class="line">           	数据2: &#x27;&#x27;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style &gt; ... &lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h3><p><strong>组件通信：</strong>组件通信，就是指<strong>组件与组件</strong>之间的<strong>数据传递</strong></p>
<p><strong>组件关系</strong>:  父子关系，非父子关系</p>
<h4 id="不同关系的组件通信"><a href="#不同关系的组件通信" class="headerlink" title="不同关系的组件通信"></a>不同关系的组件通信</h4><p><img src="/..%5Cimg%5Cmd%5CVue%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1.png"></p>
<h4 id="父子通信流程与示例"><a href="#父子通信流程与示例" class="headerlink" title="父子通信流程与示例"></a>父子通信流程与示例</h4><p><strong>流程</strong></p>
<ol>
<li>父组件 在标签里<code>:数据名=&quot;数据&quot;</code>传递子组件</li>
<li>子组件 <code>props[&#39;数据名&#39;]</code>接收数据，并通过<code>$emit(&#39;方法&#39;, &#39;数据新值&#39;)</code>通知父组件修改</li>
<li>父组件<code>@方法=&quot;父组件方法&quot;</code></li>
</ol>
<p><strong>示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    //1. 标签里`:数据名=&quot;数据&quot;`传递给子组件</span><br><span class="line">    &lt;Son :data=&quot;true&quot; @changeData=&quot;handleChange&quot;&gt;&lt;/Son&gt;</span><br><span class="line">    //4. 父组件`@方法=&quot;父组件方法&quot;`</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	methods: &#123;</span><br><span class="line">        handleChange (newValue) &#123;</span><br><span class="line">            this.data = newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">    我是Son组件 &#123;&#123;data&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;button @click=&quot;handleChange&quot;&gt;改数据&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  //2. 子组件 `props[&#x27;数据名&#x27;]`接收数据</span><br><span class="line">  props:[&#x27;data&#x27;],</span><br><span class="line">  methods:&#123;</span><br><span class="line">      handleChange () &#123;</span><br><span class="line">          //3. 并通过`$emit(&#x27;方法&#x27;, &#x27;数据新值&#x27;)`通知父组件修改</span><br><span class="line">          this.$emit(&#x27;changeData&#x27;, false)</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="非父子组件通信-EventBus-事件总线"><a href="#非父子组件通信-EventBus-事件总线" class="headerlink" title="非父子组件通信-EventBus 事件总线"></a>非父子组件通信-EventBus 事件总线</h4><p><strong>步骤</strong></p>
<ol>
<li><p>创建一个所有组件都能访问的事件总线 （例如放在utils里 EventBus.js）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Bus</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Bus</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>B组件 （发送方），触发bus的￥emit事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Bus from &#x27;../utils/EventBus&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  Bus.$emit(&#x27;sendMsg&#x27;,&#x27;消息&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>A组件 （接收方），监听Bus的 ￥on事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Bus from &#x27;../utils/EventBus&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  Bus.$on(&#x27;sendMsg&#x27;, (msg) =&gt; &#123;</span><br><span class="line">      this.msg = msg</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="跨层级的非父子组件通信-provide-inject"><a href="#跨层级的非父子组件通信-provide-inject" class="headerlink" title="跨层级的非父子组件通信-provide &amp; inject"></a>跨层级的非父子组件通信-provide &amp; inject</h4><p><strong>特点：</strong>跨层级共享数据</p>
<p>简单类型 （非响应式） </p>
<p>复杂类型 （响应式）</p>
<p><strong>步骤</strong></p>
<ol>
<li><p>父组件提供数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	provide () &#123;</span><br><span class="line">		return &#123;</span><br><span class="line">           // 普通类型【非响应式】</span><br><span class="line">           color: this.color, </span><br><span class="line">           // 复杂类型【响应式】</span><br><span class="line">           userInfo: &#123;id: &#x27;1&#x27;, name: &#x27;winter&#x27;&#125;, </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>子&#x2F;孙组件 inject获取数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	inject:[&#x27;color&#x27;, &#x27;userInfo&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="props校验"><a href="#props校验" class="headerlink" title="props校验"></a>props校验</h3><p><strong>props概念</strong>:组件上注册的自定义属性，如<code>&lt;son :data1=&quot;&quot; :data2=&quot;&quot;&gt;&lt;son&gt;</code></p>
<p>使用方式</p>
<h4 id="props类型校验"><a href="#props类型校验" class="headerlink" title="props类型校验"></a>props类型校验</h4><ul>
<li><strong>类型校验</strong></li>
<li>非空校验</li>
<li>默认值</li>
<li>自定义校验</li>
</ul>
<p><strong>类型校验示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//写在子组件script里</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props:&#123;</span><br><span class="line">        data1: String,</span><br><span class="line">        data2: Boolean</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="props完整校验写法"><a href="#props完整校验写法" class="headerlink" title="props完整校验写法"></a>props完整校验写法</h4><p><strong>语法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props:&#123;</span><br><span class="line">        data1:&#123;</span><br><span class="line">            type: 类型,  // Number String Boolean ...</span><br><span class="line">            required: true, // 是否必填</span><br><span class="line">            default: 默认值, // 默认值</span><br><span class="line">            validator (value) &#123;</span><br><span class="line">              // 自定义校验逻辑</span><br><span class="line">              return 是否通过校验</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">        data2: &#123;</span><br><span class="line">    		...</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="props-data、单向数据流"><a href="#props-data、单向数据流" class="headerlink" title="props &amp; data、单向数据流"></a>props &amp; data、单向数据流</h3><h4 id="props和data的区别"><a href="#props和data的区别" class="headerlink" title="props和data的区别"></a><strong>props</strong>和<strong>data</strong>的区别</h4><ul>
<li>data 的数据是子组件<strong>自己</strong>的  →   随便改  </li>
<li>prop 的数据是父组件<strong>外部</strong>的  →   不能直接改，要遵循 <strong>单向数据流</strong></li>
</ul>
<h4 id="单向数据流"><a href="#单向数据流" class="headerlink" title="单向数据流"></a>单向数据流</h4><p>父级的数据更新，会向下流动到子级的props里，影响这个子组件。这个数据流动是单向的</p>
<h3 id="v-model详解"><a href="#v-model详解" class="headerlink" title="v-model详解"></a>v-model详解</h3><h4 id="v-model原理"><a href="#v-model原理" class="headerlink" title="v-model原理"></a>v-model原理</h4><p>v-model本质是<strong>语法糖</strong>。例如输入框中，就是value属性和input属性的合写</p>
<p>不同表单元素v-model的语法糖不一样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot; &gt;</span><br><span class="line">    &lt;input v-model=&quot;msg&quot; type=&quot;text&quot;&gt;</span><br><span class="line">      &lt;!-- 等同 --&gt;</span><br><span class="line">    &lt;input :value=&quot;msg&quot; @input=&quot;msg = $event.target.value&quot; type=&quot;text&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model实现数据双向绑定，简化代码"><a href="#v-model实现数据双向绑定，简化代码" class="headerlink" title="v-model实现数据双向绑定，简化代码"></a>v-model实现数据双向绑定，简化代码</h4><p><strong>前提</strong> props通过<code>value</code>接收，事件触发<code>input</code></p>
<p><strong>示例</strong></p>
<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;select :value=&quot;value&quot; @change=&quot;handleChange&quot;&gt;...&lt;/select&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      value: String</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      handleChange (e) &#123;</span><br><span class="line">        this.$emit(&#x27;input&#x27;, e.target.value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;BaseSelect v-model=&quot;selectId&quot;&gt;&lt;/BaseSelect&gt;</span><br></pre></td></tr></table></figure>

<h4 id="Vue3-v-model原理"><a href="#Vue3-v-model原理" class="headerlink" title="Vue3 v-model原理"></a>Vue3 v-model原理</h4><p>vue3中的v-model语法糖统一成了 </p>
<p><code>:modelValue</code>和<code>@update:modelValue</code></p>
<p><strong>示例</strong></p>
<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">defineProps(&#123;</span><br><span class="line">  modelValue: &#123;</span><br><span class="line">    type: [Number, String]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">const emit = defineEmits([&#x27;update:modelValue&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;el-select</span><br><span class="line">        :modelValue=&quot;modelValue&quot;</span><br><span class="line">        @update:modelValue=&quot;emit(&#x27;update:modelValue&#x27;, $event)&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-option</span><br><span class="line">          v-for=&quot;channel in channelList&quot;</span><br><span class="line">          :key=&quot;channel.id&quot;</span><br><span class="line">          :label=&quot;channel.cate_name&quot;</span><br><span class="line">          :value=&quot;channel.id&quot;</span><br><span class="line">        &gt;&lt;/el-option&gt;</span><br><span class="line">      &lt;/el-select&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;channel-select v-model=&quot;params.cate_id&quot;&gt;&lt;/channel-select&gt;</span><br></pre></td></tr></table></figure>

<h3 id="sync修饰符"><a href="#sync修饰符" class="headerlink" title=".sync修饰符"></a>.sync修饰符</h3><p>和<strong>v-model相比</strong>也是语法糖，也用于父子组件数据的双向绑定，但是可以<strong>自定义props属性名</strong></p>
<p><strong>使用场景</strong>：封装表单元素用v-model，其他元素可以用.sync修饰符</p>
<p><strong>本质：</strong>.sync修饰符 就是 <strong>:属性名</strong> 和 <strong>@update:属性名</strong> 合写</p>
<p><strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;select :visible:sync=&quot;isShow&quot;&gt;...&lt;/select&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p><strong>子组件：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">      visible: Boolean</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      handleChange (e) &#123;</span><br><span class="line">        this.$emit(&#x27;input&#x27;, e.target.value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ref和-refs"><a href="#ref和-refs" class="headerlink" title="ref和$refs"></a>ref和$refs</h3><p><strong>作用：</strong></p>
<ol>
<li>专门获取组件内部的dom元素</li>
<li>获得组件内部的方法</li>
</ol>
<p><strong>获取dom示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//某组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div ref=&quot;chartRef&quot;&gt;我是渲染图表的容器&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">   mounted () &#123;</span><br><span class="line">       console.log(this.$refs.chartRef)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>父组件获得子组件内部方法示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;son ref=&quot;chartRef&quot;&gt;我是渲染图表的容器&lt;/son&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">   mounted () &#123;</span><br><span class="line">       console.log(this.$refs.chartRef)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>获得组件内部方法示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;son ref=&quot;chartRef&quot;&gt;我是渲染图表的容器&lt;/son&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">   mounted () &#123;</span><br><span class="line">       this.$refs.chartRef.method1()</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Vue异步dom更新、-nextTick"><a href="#Vue异步dom更新、-nextTick" class="headerlink" title="Vue异步dom更新、$nextTick"></a>Vue异步dom更新、$nextTick</h3><p>Vue更新dom是异步的，所以用<code>$nextTick</code></p>
<p><code>$nextTick</code> 等DOM更新后，才会执行方法里的函数体</p>
<p><strong>示例</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">inp</span>.<span class="title function_">focus</span>()</span><br><span class="line">	<span class="comment">//inp为refs的属性值</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>$nextTick 内的函数体 一定是<strong>箭头函数</strong>，这样才能让函数内部的this指向Vue实例</p>
<h3 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h3><p><strong>概念</strong>：自己定义的指令，可以<strong>封装一些DOM操作</strong>，扩展额外的功能</p>
<p><strong>注册</strong></p>
<ul>
<li><p>全局注册 在main.js里</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;指令名&#x27;</span>, &#123;</span><br><span class="line">    <span class="string">&quot;inserted&quot;</span> (el) &#123;</span><br><span class="line">        el.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>局部注册 当前组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    directives: &#123;</span><br><span class="line">        &quot;指令名&quot;: &#123;</span><br><span class="line">            inserted(el) &#123;</span><br><span class="line">                el.focus()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>inserted</strong>:被绑定元素插入父节点时调用的钩子函数</p>
<p><strong>el</strong>：使用指令的那个DOM元素</p>
<p><strong>使用</strong></p>
<p>标签里添加属性<code>v-指令名</code></p>
<p><strong>自指令的值</strong></p>
<p>1.在绑定指令时，可以通过<code>v-指令名=值</code>的形式为指令 绑定 具体的参数值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-color</span>=<span class="string">&quot;color&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.通过 binding.value 可以拿到指令值，<strong>指令值修改会 触发 update 函数</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	directives: &#123;</span><br><span class="line">    color: &#123;</span><br><span class="line">        inserted (el, binding) &#123;</span><br><span class="line">          el.style.color = binding.value</span><br><span class="line">        &#125;,</span><br><span class="line">        update (el, binding) &#123;</span><br><span class="line">          el.style.color = binding.value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h3><p>让我们在App.vue里使用组件<strong>内部结构</strong>支持<strong>自定义</strong> </p>
<h4 id="默认插槽用法"><a href="#默认插槽用法" class="headerlink" title="默认插槽用法"></a><strong>默认插槽用法</strong></h4><ol>
<li><p>组件内部需要定制的部分，使用<code>&lt;slot&gt;&lt;/slot&gt;</code>占位</p>
</li>
<li><p>使用组件时，<code>&lt;组件名&gt;&lt;/组件名&gt;</code>标签内部传入的结构会替换slot</p>
</li>
</ol>
<p><strong>示例代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 组件内部</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// App.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;MyDialog&gt;</span><br><span class="line">        这部分内容会替换slot</span><br><span class="line">    &lt;/MyDialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p><strong>插槽后备内容（默认值）</strong> </p>
<p>封装组件时，可以为预留的 <code>&lt;slot&gt;</code> 插槽提供后备内容（默认内容）</p>
<p>当外部使用组件时，不传内容，则会显示slot槽内的后备内容</p>
<h4 id="具名插槽用法"><a href="#具名插槽用法" class="headerlink" title="具名插槽用法"></a><strong>具名插槽用法</strong></h4><p><strong>适用情形</strong>：当一个组件内有多处结构，需要外部传入标签进行定制时</p>
<ul>
<li><p>用name属性区分名字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;slot name=&quot;name1&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;slot name=&quot;name2&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>template配合<code>v-slot:名字</code>或<code>#名字</code>分发标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyDialog&gt;</span><br><span class="line">	&lt;template v-shot:name1&gt;</span><br><span class="line">    	内容1</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template v-shot:name2&gt;</span><br><span class="line">    	内容2</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/MyDialog&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="作用域插槽（给插槽绑定数据）"><a href="#作用域插槽（给插槽绑定数据）" class="headerlink" title="作用域插槽（给插槽绑定数据）"></a><strong>作用域插槽（给插槽绑定数据）</strong></h4><p><strong>使用步骤</strong></p>
<ol>
<li><p>给slot标签以添加属性的方式传值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;slot :id=&quot;item.id&quot; msg=&quot;测试文本&quot;&gt;&lt;/slot&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>所有添加的属性都会被收集到一个对象里</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; id: 3, msg: &#x27;测试文本&#x27; &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在template中，通过<code>#插槽名=obj</code>接收，默认插槽的话用<code>#default</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyTable :list=&quot;list&quot;&gt;</span><br><span class="line">  &lt;template #default=&quot;obj&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;del(obj.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/MyTable&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="路由入门"><a href="#路由入门" class="headerlink" title="路由入门"></a>路由入门</h3><p><strong>单页应用程序 SPA</strong>：是指所有的功能都在<strong>一个html页面</strong>上实现</p>
<p>vue经常用来开发单页应用</p>
<p><strong>Vue路由</strong>：<strong>访问路径</strong>和 <strong>组件</strong>的对应关系</p>
<h4 id="路由使用步骤"><a href="#路由使用步骤" class="headerlink" title="路由使用步骤"></a>路由使用步骤</h4><ol>
<li><p>下载VueRouter模块到当前工程，vue2使用3.x版本 vue3使用4.x版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-router@3.6.5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>main.js</strong>中引入<strong>VueRouter</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import VueRouter from <span class="string">&#x27;vue-router&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>main.js</strong>安装注册路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>main.js</strong>创建路由对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将路由对象注入到Vue实例中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="attr">router</span>:router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>main.js</strong>创建需要的组件（views目录下），在步骤4里的路由对象配置路由规则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Find</span> <span class="keyword">from</span> <span class="string">&#x27;./views/Find.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&#x27;./views/My.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friend</span> <span class="keyword">from</span> <span class="string">&#x27;./views/Friend.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//path 组件对应的路径 component 用到的组件</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Find</span>&#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span>&#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/friend&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friend</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在App.vue里配置<strong>导航</strong>与<strong>路由出口</strong>（组件显示的位置）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;footer_wrap&quot;&gt;</span><br><span class="line">  &lt;a href=&quot;#/find&quot;&gt;发现音乐&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;#/my&quot;&gt;我的音乐&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;#/friend&quot;&gt;朋友&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;top&quot;&gt;</span><br><span class="line">  &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="路由进阶"><a href="#路由进阶" class="headerlink" title="路由进阶"></a>路由进阶</h3><h4 id="封装路由"><a href="#封装路由" class="headerlink" title="封装路由"></a>封装路由</h4><p><strong>步骤</strong></p>
<ol>
<li>将原先main.js里 <strong>导入VueRouter 安装注册路由  创建路由对象</strong> 这几步放到单独的js文件里</li>
<li>再将单独的js文件导出到 main.js</li>
</ol>
<p><img src="/..%5Cimg%5Cmd%5C%E5%B0%81%E8%A3%85%E8%B7%AF%E7%94%B1.png"></p>
<p><strong>路径简写：</strong>vue可以直接用@指代src目录 </p>
<p>不需要webpack中设置解析路径别名alias （创建vue项目时已自动设置）</p>
<h4 id="声明式导航-router-link组件-导航链接"><a href="#声明式导航-router-link组件-导航链接" class="headerlink" title="声明式导航 router-link组件 导航链接"></a>声明式导航 router-link组件 导航链接</h4><p>替代a标签 设置to属性 无需# <code>to=&quot;/路径值&quot;</code></p>
<p>router-link组件也是对a标签进行封装，样式设置在a标签上就可以了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&#x27;page1&#x27;&gt;导航&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<p>默认提供<strong>高亮类名</strong></p>
<h4 id="声明式导航-高亮类名"><a href="#声明式导航-高亮类名" class="headerlink" title="声明式导航 高亮类名"></a>声明式导航 高亮类名</h4><ul>
<li><p>router-link-active</p>
<p>模糊匹配（用的比较多） 可以匹配到以路径值开头的</p>
</li>
<li><p>router-link-exact-active</p>
<p>精准匹配 只能匹配到路径值</p>
</li>
</ul>
<h4 id="声明式导航-自定义类名"><a href="#声明式导航-自定义类名" class="headerlink" title="声明式导航 自定义类名"></a>声明式导航 自定义类名</h4><p>在创建路由对象时 添加属性 <code>linkActiveClass</code>,<code>linkExactActiveClass</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">	<span class="attr">routes</span>: [</span><br><span class="line">    	&#123; <span class="attr">path</span>: <span class="string">&#x27;/find&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Find</span>&#125;,</span><br><span class="line">    	&#123; <span class="attr">path</span>: <span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span>&#125;,</span><br><span class="line">    	&#123; <span class="attr">path</span>: <span class="string">&#x27;/friend&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friend</span>&#125;</span><br><span class="line">  	],</span><br><span class="line">	<span class="attr">linkActiveClass</span>: <span class="string">&#x27;active&#x27;</span>,</span><br><span class="line">	<span class="attr">linkExactActiveClass</span>: <span class="string">&#x27;exact-active&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="声明式导航-跳转传参"><a href="#声明式导航-跳转传参" class="headerlink" title="声明式导航 跳转传参"></a>声明式导航 跳转传参</h4><p><strong>查询参数传参</strong></p>
<ol>
<li><p>配置<code>router-link</code>的属性<code>to=&quot;/路径名?参数名=值&quot;</code></p>
</li>
<li><p>使用 <code>$route.query.参数名</code>获得参数</p>
</li>
</ol>
<p><strong>动态路由传参</strong></p>
<ol>
<li><p>创建路由对象时，配置路由的path为<code>/path/:参数</code></p>
</li>
<li><p>跳转时 to属性设置为 <code>/path/参数名 </code></p>
</li>
<li><p>接收时 <code>$route.params.参数名</code>获得参数</p>
</li>
</ol>
<p><strong>可选符</strong> 在创建路由对象配置path时 可以设置<code>/path/参数?</code>表明该参数可传可不传</p>
<p><strong>多个参数用查询参数传参，单个参数用动态路由传参</strong></p>
<h4 id="vue路由-重定向"><a href="#vue路由-重定向" class="headerlink" title="vue路由 重定向"></a>vue路由 重定向</h4><p><strong>示例</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">   	<span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="vue路由-404"><a href="#vue路由-404" class="headerlink" title="vue路由 404"></a>vue路由 404</h4><p>创建路由对象时 <strong>配置在路由规则的最后面</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">NotFound</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/NotFound&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    ...</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>, <span class="attr">component</span>: <span class="title class_">NotFound</span> &#125; <span class="comment">//最后一个</span></span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="vue路由-模式设置"><a href="#vue路由-模式设置" class="headerlink" title="vue路由 模式设置"></a>vue路由 模式设置</h4><p>路由的路径看起来不自然, 有#，更改路径形式的方法</p>
<ul>
<li>hash路由(默认)        例如:  <a target="_blank" rel="noopener" href="http://localhost:8080/#/home">http://localhost:8080/#/home</a></li>
<li>history路由(常用)     例如: <a target="_blank" rel="noopener" href="http://localhost:8080/home">http://localhost:8080/home</a>   (以后上线需要服务器端支持，开发环境webpack给规避掉了history模式的问题)</li>
</ul>
<p>创建路由对象时</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>:<span class="string">&#x27;histroy&#x27;</span>, <span class="comment">//默认是hash</span></span><br><span class="line">    <span class="attr">routes</span>:[]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="vue路由-导航跳转"><a href="#vue路由-导航跳转" class="headerlink" title="vue路由 导航跳转"></a>vue路由 导航跳转</h4><p><strong>path路径跳转</strong></p>
<p><strong>push</strong>语法 跳转保留原先的地址 可以返回</p>
<p><strong>replace</strong> 跳转不保留原先的地址 不可返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单写法</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;路由路径&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//完整写法</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;路由路径&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>path路径传参 query传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/路径?参数名1=参数值1&amp;参数2=参数值2&#x27;</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名字&#x27;</span>,</span><br><span class="line">  <span class="attr">query</span>: &#123;</span><br><span class="line">    参数名: <span class="string">&#x27;参数值&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>path路径传参 动态路由params传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/路径/参数值&#x27;</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/路径/参数值&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>name命名跳转</strong></p>
<p>特点：适合 path 路径长的场景</p>
<p>语法：</p>
<ul>
<li><p>路由规则，必须配置name配置项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>, <span class="attr">path</span>: <span class="string">&#x27;/path/xxx&#x27;</span>, <span class="attr">component</span>: <span class="variable constant_">XXX</span> &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过name来进行跳转</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>name命名传参 query传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名字&#x27;</span>,</span><br><span class="line">  <span class="attr">query</span>: &#123;</span><br><span class="line">    参数名<span class="number">1</span>: <span class="string">&#x27;参数值1&#x27;</span>,</span><br><span class="line">    参数名<span class="number">2</span>: <span class="string">&#x27;参数值2&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>name命名传参 动态路由params传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名字&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    参数名: <span class="string">&#x27;参数值&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>跳转到上一页</strong></p>
<p><code>$router.back()</code></p>
<h4 id="vue嵌套路由"><a href="#vue嵌套路由" class="headerlink" title="vue嵌套路由"></a>vue嵌套路由</h4><p>在一级路由下，配置children属性即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="attr">routes</span>: [</span><br><span class="line">		&#123; <span class="attr">path</span>: <span class="string">&#x27;/first&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">First</span>, </span><br><span class="line">          <span class="attr">children</span>: [</span><br><span class="line">              &#123; <span class="attr">path</span>: <span class="string">&#x27;/second&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Second</span> &#125;,</span><br><span class="line">              &#123; <span class="attr">path</span>: <span class="string">&#x27;/duo&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Duo</span> &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">	],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="路由拦截-全局前置守卫"><a href="#路由拦截-全局前置守卫" class="headerlink" title="路由拦截-全局前置守卫"></a>路由拦截-全局前置守卫</h4><p>路由导航守卫 - <a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/advanced/navigation-guards.html">全局前置守卫</a></p>
<p>1.所有的路由一旦被匹配到，都会先经过全局前置守卫</p>
<p>2.只有全局前置守卫放行，才会真正解析渲染组件，才能看到页面内容</p>
<p><strong>用途</strong>：一些页面不登陆不让看，点击那些页面时自动跳转到登录页</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vuerouter3.x的写法</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1. to   往哪里去， 到哪去的路由信息对象  </span></span><br><span class="line">  <span class="comment">// 2. from 从哪里来， 从哪来的路由信息对象</span></span><br><span class="line">  <span class="comment">// 3. next() 是否放行</span></span><br><span class="line">  <span class="comment">//    如果next()调用，就是放行</span></span><br><span class="line">  <span class="comment">//    next(路径) 拦截到某个路径页面</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// vuerouter4.x写法</span></span><br><span class="line"><span class="comment">// 登录访问拦截</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to，<span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//不再有next参数</span></span><br><span class="line">  <span class="comment">//默认放行</span></span><br><span class="line">  <span class="comment">//如果返回了具体路径 就会拦截到对应页面</span></span><br><span class="line">  <span class="comment">//如果返回false 就会返回from</span></span><br><span class="line">  <span class="keyword">const</span> userStore = <span class="title function_">useUserStore</span>()</span><br><span class="line">  <span class="keyword">if</span> (!userStore.<span class="property">token</span> &amp;&amp; to.<span class="property">path</span> !== <span class="string">&#x27;/login&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;/login&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h4><p>打包时，js包会很大。</p>
<p>路由懒加载 &amp; 异步组件， 不会一上来就将所有的组件都加载，而是访问到对应的路由了，才加载解析这个路由对应的所有组件</p>
<p>使用方式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由文件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/login&#x27;</span></span><br><span class="line"><span class="comment">//修改为</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Login</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span> (<span class="string">&#x27;@/views/login&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="VueRouter4-路由代码解析"><a href="#VueRouter4-路由代码解析" class="headerlink" title="VueRouter4  路由代码解析"></a>VueRouter4  路由代码解析</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// createRouter 创建路由实例，===&gt; new VueRouter()</span></span><br><span class="line"><span class="comment">// 1. history模式: createWebHistory()   http://xxx/user</span></span><br><span class="line"><span class="comment">// 2. hash模式: createWebHashHistory()  http://xxx/#/user</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// vite 的配置 import.meta.env.BASE_URL 是路由的基准地址，默认是 ’/‘</span></span><br><span class="line"><span class="comment">// https://vitejs.dev/guide/build.html#public-base-path</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果将来你部署的域名路径是：http://xxx/my-path/user</span></span><br><span class="line"><span class="comment">// vite.config.ts  添加配置  base: my-path，路由这就会加上 my-path 前缀了</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  <span class="attr">routes</span>: []</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h4 id="Vue3-组合式API中获取路由"><a href="#Vue3-组合式API中获取路由" class="headerlink" title="Vue3 组合式API中获取路由"></a>Vue3 组合式API中获取路由</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;useRouter, useRoute&#125; from &#x27;vue-router&#x27;</span><br><span class="line">//router用来获取路由对象</span><br><span class="line">const router = useRouter()</span><br><span class="line">//route用来获得当前页面的路由参数</span><br><span class="line">const route = useRoute()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件缓存-keep-alive"><a href="#组件缓存-keep-alive" class="headerlink" title="组件缓存 keep-alive"></a>组件缓存 keep-alive</h3><h4 id="keep-alive的三个属性"><a href="#keep-alive的三个属性" class="headerlink" title="keep-alive的三个属性"></a>keep-alive的三个属性</h4><ul>
<li>include 组件名数组， 只有匹配的组件<strong>会被缓存</strong></li>
<li>exclude 组件名数组， 匹配的组件<strong>不会被缓存</strong></li>
<li>max 最多可以缓存多少组件实例</li>
</ul>
<p>示例：</p>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;h5-wrapper&quot;&gt;</span><br><span class="line">    &lt;keep-alive :include=&quot;[&#x27;LayoutPage&#x27;]&quot;&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/keep-alive&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>Layout.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;LayoutPage&#x27;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="额外的两个生命周期函数"><a href="#额外的两个生命周期函数" class="headerlink" title="额外的两个生命周期函数"></a>额外的两个生命周期函数</h4><p><strong>keep-alive的使用会触发两个生命周期函数</strong></p>
<p><strong>activated</strong> 当组件被激活（使用）的时候触发 →  进入这个页面的时候触发</p>
<p><strong>deactivated</strong> 当组件不被使用的时候触发      →  离开这个页面的时候触发</p>
<p>组件<strong>缓存后</strong>就<strong>不会执行</strong>组件的<strong>created, mounted, destroyed</strong> 等钩子了</p>
<p>所以其提供了<strong>actived 和deactived</strong>钩子，帮我们实现业务需求。</p>
<h3 id="ESlint代码规范"><a href="#ESlint代码规范" class="headerlink" title="ESlint代码规范"></a>ESlint代码规范</h3><h4 id="JavaScript-Standard-Style-规范说明"><a href="#JavaScript-Standard-Style-规范说明" class="headerlink" title="JavaScript Standard Style 规范说明"></a>JavaScript Standard Style 规范说明</h4><p><strong>多种eslint规范里的一种</strong></p>
<p> <a target="_blank" rel="noopener" href="https://standardjs.com/rules-zhcn.html">https://standardjs.com/rules-zhcn.html</a></p>
<ul>
<li><em>字符串使用单引号</em> – 需要转义的地方除外</li>
<li><em>无分号</em> – <a target="_blank" rel="noopener" href="http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding">这</a><a target="_blank" rel="noopener" href="http://inimino.org/~inimino/blog/javascript_semicolons">没什么不好。</a><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=gsfbh17Ax9I">不骗你！</a></li>
<li><em>关键字后加空格</em> <code>if (condition) &#123; ... &#125;</code></li>
<li><em>函数名后加空格</em> <code>function name (arg) &#123; ... &#125;</code></li>
<li>坚持使用全等 <code>===</code> 摒弃 <code>==</code> 一但在需要检查 <code>null || undefined</code> 时可以使用 <code>obj == null</code></li>
</ul>
<h4 id="自动修正-ESlint插件"><a href="#自动修正-ESlint插件" class="headerlink" title="自动修正 ESlint插件"></a>自动修正 ESlint插件</h4><ol>
<li><p>vscode里安装ESlint插件</p>
</li>
<li><p>在vscode里的setting.json里添加配置</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当保存的时候，eslint自动帮我们修复错误</span></span><br><span class="line"><span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="comment">// 保存代码，不自动格式化</span></span><br><span class="line"><span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="prettier"><a href="#prettier" class="headerlink" title="prettier"></a>prettier</h4><p>格式化代码插件 可以不使用vscode插件 创建vue项目时选择即可</p>
<p><strong>配置文件 .eslintrc.cjs</strong></p>
<p>添加如下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rules</span>: &#123;</span><br><span class="line">  <span class="string">&#x27;prettier/prettier&#x27;</span>: [</span><br><span class="line">    <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">singleQuote</span>: <span class="literal">true</span>, <span class="comment">// 单引号</span></span><br><span class="line">      <span class="attr">semi</span>: <span class="literal">false</span>, <span class="comment">// 无分号</span></span><br><span class="line">      <span class="attr">printWidth</span>: <span class="number">80</span>, <span class="comment">// 每行宽度至多80字符</span></span><br><span class="line">      <span class="attr">trailingComma</span>: <span class="string">&#x27;none&#x27;</span>, <span class="comment">// 不加对象|数组最后逗号</span></span><br><span class="line">      <span class="attr">endOfLine</span>: <span class="string">&#x27;auto&#x27;</span> <span class="comment">// 换行符号不限制（win mac 不一致）</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;vue/multi-word-component-names&#x27;</span>: [</span><br><span class="line">    <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">ignores</span>: [<span class="string">&#x27;index&#x27;</span>] <span class="comment">// vue组件名称多单词组成（忽略index.vue）</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;vue/no-setup-props-destructure&#x27;</span>: [<span class="string">&#x27;off&#x27;</span>], <span class="comment">// 关闭 props 解构的校验</span></span><br><span class="line">  <span class="comment">// 💡 添加未定义变量错误提示，create-vue@3.6.3 关闭，这里加上是为了支持下一个章节演示。</span></span><br><span class="line">  <span class="string">&#x27;no-undef&#x27;</span>: <span class="string">&#x27;error&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>prettier 风格配置 <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/options.html">https://prettier.io</a></p>
<ol>
<li><p>单引号</p>
</li>
<li><p>不使用分号</p>
</li>
<li><p>每行宽度至多80字符</p>
</li>
<li><p>不加对象|数组最后逗号</p>
</li>
<li><p>换行符号不限制（win mac 不一致）</p>
</li>
</ol>
</li>
<li><p>vue组件名称多单词组成（忽略index.vue）</p>
</li>
<li><p>props解构（关闭）</p>
</li>
</ol>
<h4 id="忽略报错"><a href="#忽略报错" class="headerlink" title="忽略报错"></a>忽略报错</h4><p>例如用了element-plus组件库的自动导入后，用到一些组件会报未定义的错误</p>
<p><strong>配置文件 .eslintrc.cjs</strong></p>
<p>添加</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">globals</span>: &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="title class_">ElMessageBox</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="title class_">ElLoading</span>: <span class="string">&#x27;readonly&#x27;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">//要用到的组件再做添加</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><h4 id="Vuex概述"><a href="#Vuex概述" class="headerlink" title="Vuex概述"></a>Vuex概述</h4><p><strong>概念：</strong>Vuex是一个Vue的状态管理工具，状态就是数据</p>
<p><strong>使用场景</strong>：多个组件都要用同一份数据</p>
<p><strong>优势</strong>：</p>
<ul>
<li>数据集中化管理，</li>
<li>响应式变化</li>
<li>操作简洁</li>
</ul>
<h4 id="vuex的使用"><a href="#vuex的使用" class="headerlink" title="vuex的使用"></a>vuex的使用</h4><p><strong>步骤</strong></p>
<ol>
<li><p>安装Vuex</p>
</li>
<li><p>新建vuex模块文件 </p>
<p>新建store文件夹，新建index.js文件存放vuex</p>
</li>
<li><p>创建仓库</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 导入 vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">// vuex也是vue的插件, 需要use一下, 进行插件的安装初始化</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建仓库 store</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出仓库</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入到main.js中并挂载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  store</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="核心概念-state状态"><a href="#核心概念-state状态" class="headerlink" title="核心概念-state状态"></a>核心概念-state状态</h4><p>State提供唯一的公共数据源，所有共享的数据都要统一放到Store中的State中存储。</p>
<p>打开项目中的store.js文件，在state对象中可以添加我们要共享的数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建仓库 store</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="comment">// state 状态, 即数据, 类似于vue组件中的data,</span></span><br><span class="line">  <span class="comment">// 区别：</span></span><br><span class="line">  <span class="comment">// 1.data 是组件自己的数据, </span></span><br><span class="line">  <span class="comment">// 2.state 中的数据整个vue项目的组件都能访问到</span></span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">101</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>获取公共数据state的语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">获取 store：</span><br><span class="line"> <span class="number">1.</span><span class="title class_">Vue</span>模板中获取 <span class="variable language_">this</span>.<span class="property">$store</span></span><br><span class="line"> <span class="number">2.</span>js文件中获取 <span class="keyword">import</span> 导入 store</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">模板中：     &#123;&#123; $store.<span class="property">state</span>.<span class="property">xxx</span> &#125;&#125;</span><br><span class="line">组件逻辑中：  <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">xxx</span></span><br><span class="line"><span class="variable constant_">JS</span>模块中：   store.<span class="property">state</span>.<span class="property">xxx</span></span><br></pre></td></tr></table></figure>

<h4 id="辅助函数mapState"><a href="#辅助函数mapState" class="headerlink" title="辅助函数mapState"></a>辅助函数mapState</h4><p><strong>概念</strong>：</p>
<p>mapState能够把store中的数据<strong>映射</strong>到组件的计算属性computed里</p>
<p><strong>使用步骤</strong> （在需要使用state的组件里）</p>
<ol>
<li><p>从vuex中导入mapstate函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>采用数组形式引入state属性</p>
</li>
</ol>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">mapState</span>([<span class="string">&#x27;count&#x27;</span>])</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>利用<strong>展开运算符</strong>将导出的状态映射给计算属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">	...<span class="title function_">mapState</span>([<span class="string">&#x27;count&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​	接下来要使用state中的count，就和使用state里的count一样</p>
<h4 id="核心概念-mutations"><a href="#核心概念-mutations" class="headerlink" title="核心概念-mutations"></a>核心概念-mutations</h4><p>在开发时，vuex应当遵循单向数据流，组件中不应该能直接修改仓库的数据</p>
<p>但默认可以修改，可以在开发时在创建store对象时，添加属性<code>strict: true</code></p>
<p>上线时需 关闭严格模式</p>
<p>所以需要<strong>mutations</strong>来修改数据</p>
<p><strong>步骤</strong></p>
<ol>
<li><p>store对象中定义mutations对象，对象中存档修改state的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mutations对象的方法里，第一个参数永远都是state</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">strict</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;Winter&#x27;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">100</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    addCount (state) &#123;</span><br><span class="line">      state.<span class="property">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中提交调用mutations里的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;addCount&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>mutations传参语法</strong></p>
<p>mutations里定义方法 <code>方法名 (state, 参数)</code></p>
<p>组件传参<code>this.$store.commit(&#39;方法名&#39;, 参数)</code></p>
<p><strong>注意：</strong>提交的参数只能有一个 所以如果有多个参数可以提交一个对象</p>
<h4 id="辅助函数-mapMutations"><a href="#辅助函数-mapMutations" class="headerlink" title="辅助函数-mapMutations"></a>辅助函数-mapMutations</h4><p>mapState将state <strong>映射到组件计算属性computed</strong>里</p>
<p>mapMutations将mutations里的方法 <strong>映射到组件方法method</strong>里</p>
<h4 id="核心概念-actions"><a href="#核心概念-actions" class="headerlink" title="核心概念-actions"></a>核心概念-actions</h4><p>state用于存放数据，mutations用于同步更新数据 而<strong>action负责异步操作</strong></p>
<p><strong>步骤</strong></p>
<ol>
<li><p>定义actions</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此处未分模块，context可以当成store仓库</span></span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">  changeCount (state, newCount) &#123;</span><br><span class="line">    state.<span class="property">count</span> = newCount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">  setAsyncCount (context, num) &#123;</span><br><span class="line">    <span class="comment">// 一秒后, 给一个数, 去修改 num</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, num)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中通过<strong>dispatch</strong>调用</p>
<p><code>this.$store.dispatch(&#39;setAsyncCount&#39;, 参数)</code></p>
</li>
</ol>
<h4 id="辅助函数-mapActions"><a href="#辅助函数-mapActions" class="headerlink" title="辅助函数 - mapActions"></a>辅助函数 - mapActions</h4><p>mapState将state <strong>映射到组件计算属性computed</strong>里</p>
<p>mapMutations将mutations里的同步方法 <strong>映射到组件方法method</strong>里</p>
<p>mapActions将actions里的异步方法 <strong>映射到组件方法methods</strong>里</p>
<p><strong>使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">   ...<span class="title function_">mapActions</span>([<span class="string">&#x27;changeCountAction&#x27;</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//changeCountAction就被映射到了methods里 直接this.changeCountAction使用就可以</span></span><br></pre></td></tr></table></figure>

<h4 id="核心概念-getters"><a href="#核心概念-getters" class="headerlink" title="核心概念-getters"></a>核心概念-getters</h4><p>getters用于从state中筛选出符合条件的一些数据</p>
<p><strong>步骤</strong></p>
<ol>
<li><p>在store对象中定义getters</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="comment">// getters函数的第一个参数是 state</span></span><br><span class="line">  <span class="comment">// 必须要有返回值</span></span><br><span class="line">   <span class="attr">filterList</span>:  <span class="function"><span class="params">state</span> =&gt;</span>  state.<span class="property">list</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item &gt; <span class="number">5</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用getters</p>
<ol>
<li><p>原生方式 $store <code>this.$store.getters.filterList</code></p>
</li>
<li><p>mapGetters 映射到计算属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapgetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">	...<span class="title function_">mapgetters</span>([<span class="string">&#x27;filterList&#x27;</span>])</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="核心概念-module"><a href="#核心概念-module" class="headerlink" title="核心概念-module"></a>核心概念-module</h4><p><strong>将vuex模块化</strong> 便于管理数据和维护</p>
<p><strong>步骤</strong></p>
<ol>
<li><p>store目录下 新建modules文件夹，将模块放在这里(例如@&#x2F;store&#x2F;modules&#x2F;user.js)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  <span class="attr">userInfo</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在index.js里导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">        user</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>使用模块的数据state</strong></p>
<ol>
<li>通过模块名直接访问<code>$store.state.模块名.数据</code></li>
<li>通过mapstate映射 <ol>
<li>把整个模块映射 <code>mapState[&#39;模块名&#39;]</code></li>
<li>映射某个数据 <code>mapstate(&#39;模块名&#39;, [&#39;数据&#39;])</code>  需要在对应模块导出时<strong>开启命名空间</strong> <code>namespaced: true</code></li>
</ol>
</li>
</ol>
<p><strong>使用模块筛选过的数据 getters</strong></p>
<ol>
<li>通过模块名访问 <code>$store.getters(&#39;[模块名/数据]&#39;)</code></li>
<li>子模块的映射 <code>mapGetters(&#39;模块名&#39;, [&#39;数据&#39;])</code> 也需要<strong>开启命名空间</strong></li>
</ol>
<p><strong>使用模块中的同步方法 mutations</strong></p>
<ol>
<li>直接通过 store 调用   <code>$store.commit(&#39;模块名/xxx &#39;,  额外参数)</code></li>
<li>通过 mapMutations 映射    <ol>
<li>默认根级别的映射  <code>mapMutations([ &#39;xxx&#39; ]) </code>    </li>
<li>子模块的映射 <code>mapMutations(&#39;模块名&#39;, [&#39;xxx&#39;])</code> -  需要<strong>开启命名空间</strong></li>
</ol>
</li>
</ol>
<p><strong>使用模块中的异步方法 actions</strong></p>
<ol>
<li>直接通过 store 调用   <code>$store.dispatch(&#39;模块名/xxx &#39;,  额外参数)</code></li>
<li>通过 mapActions 映射     <ol>
<li>默认根级别的映射  <code>mapActions([ &#39;xxx&#39; ])  </code>   </li>
<li>子模块的映射 <code>mapActions(&#39;模块名&#39;, [&#39;xxx&#39;]) </code> -  需要<strong>开启命名空间</strong></li>
</ol>
</li>
</ol>
<h4 id="storage存储模块-Vuex持久化处理"><a href="#storage存储模块-Vuex持久化处理" class="headerlink" title="storage存储模块-Vuex持久化处理"></a>storage存储模块-Vuex持久化处理</h4><p>一些登录凭证token和用户的信息userId 做一个持久化处理 封装到模块</p>
<ol>
<li><p>新建 <code>utils/storage.js</code> 封装方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">INFO_KEY</span> = <span class="string">&#x27;hm_shopping_info&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取个人信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getInfo</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="variable constant_">INFO_KEY</span>)</span><br><span class="line">  <span class="keyword">return</span> result ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(result) : &#123;</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">userId</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置个人信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">setInfo</span> = (<span class="params">info</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="variable constant_">INFO_KEY</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(info))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移除个人信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">removeInfo</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="variable constant_">INFO_KEY</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>vuex user模块调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getInfo, setInfo &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  state () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">userInfo</span>: <span class="title function_">getInfo</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    setUserInfo (state, obj) &#123;</span><br><span class="line">      state.<span class="property">userInfo</span> = obj</span><br><span class="line">      <span class="title function_">setInfo</span>(obj)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="第三方组件库-vant-ui"><a href="#第三方组件库-vant-ui" class="headerlink" title="第三方组件库 vant-ui"></a>第三方组件库 vant-ui</h3><p><strong>地址</strong>：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/</a></p>
<p>常用的组件库还有以下几种：</p>
<p>pc:  <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">element-ui</a>    <a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/">element-plus</a>  <a target="_blank" rel="noopener" href="https://iview.github.io/">iview</a>      <strong><a target="_blank" rel="noopener" href="https://antdv.com/components/overview-cn">ant-design</a></strong></p>
<p>移动：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/">vant-ui</a>     <a target="_blank" rel="noopener" href="http://mint-ui.github.io/docs/#/zh-cn2">Mint UI</a> (饿了么)    <a target="_blank" rel="noopener" href="https://didi.github.io/cube-ui/#/zh-CN/">Cube UI</a> (滴滴)</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a><strong>安装</strong></h4><p>vue2项目 <code>npm i vant@latest-v2 -S</code></p>
<h4 id="组件全部导入-不推荐"><a href="#组件全部导入-不推荐" class="headerlink" title="组件全部导入(不推荐)"></a>组件全部导入(不推荐)</h4><p><strong>在main.js注册</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vant</span> <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vant/lib/index.css&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vant</span>)</span><br></pre></td></tr></table></figure>

<h4 id="按需导入（推荐）"><a href="#按需导入（推荐）" class="headerlink" title="按需导入（推荐）"></a>按需导入（推荐）</h4><ol>
<li><p><strong>安装插件</strong>  <code>npm i babel-plugin-import -D</code></p>
</li>
<li><p>在<code>babel.config.js</code>中配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    <span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">&#x27;import&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">libraryName</span>: <span class="string">&#x27;vant&#x27;</span>,</span><br><span class="line">      <span class="attr">libraryDirectory</span>: <span class="string">&#x27;es&#x27;</span>,</span><br><span class="line">      <span class="attr">style</span>: <span class="literal">true</span></span><br><span class="line">    &#125;, <span class="string">&#x27;vant&#x27;</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可将引入组件的步骤抽离到单独的js文件中 如<code>utils/vant-ui.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Button</span>, <span class="title class_">Icon</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Button</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Icon</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在main.js中导入</p>
</li>
</ol>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入按需导入的配置文件</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/utils/vant-ui&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>按需导入中的全局使用</strong></p>
<ol>
<li><p>在main.js中导入并注册需要的组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Toast</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>之后在其他组件里直接使用 无需导入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    created () &#123;</span><br><span class="line">        this.$Toast(&#x27;登录&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="移动端适配：-vw适配"><a href="#移动端适配：-vw适配" class="headerlink" title="移动端适配： vw适配"></a>移动端适配： vw适配</h4><p>官方说明：<a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/advanced-usage">https://vant-contrib.gitee.io/vant/v2/#/zh-CN/advanced-usage</a></p>
<p><strong>安装</strong> <code>npm i postcss-px-to-viewport@1.1.1 -D</code></p>
<h4 id="为请求、响应拦截器添加loading"><a href="#为请求、响应拦截器添加loading" class="headerlink" title="为请求、响应拦截器添加loading"></a>为请求、响应拦截器添加loading</h4><p><strong>作用：</strong>用户提示，防止用户多次点击节流</p>
<ol>
<li>请求时，打开 loading</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">  <span class="title class_">Toast</span>.<span class="title function_">loading</span>(&#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;请求中...&#x27;</span>,</span><br><span class="line">    <span class="attr">forbidClick</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">loadingType</span>: <span class="string">&#x27;spinner&#x27;</span>,</span><br><span class="line">    <span class="attr">duration</span>: <span class="number">0</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>响应时，关闭 loading</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加响应拦截器</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = response.<span class="property">data</span></span><br><span class="line">  <span class="keyword">if</span> (res.<span class="property">status</span> !== <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="title class_">Toast</span>(res.<span class="property">message</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">message</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 清除 loading 中的效果</span></span><br><span class="line">    <span class="title class_">Toast</span>.<span class="title function_">clear</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 对响应数据做点什么</span></span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="第三方组件库-element-plus"><a href="#第三方组件库-element-plus" class="headerlink" title="第三方组件库 element-plus"></a>第三方组件库 element-plus</h3><p><strong>官方文档：</strong> <a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/">https://element-plus.org/zh-CN/</a></p>
<ul>
<li>安装</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pnpm add element-plus</span><br></pre></td></tr></table></figure>

<p><strong>自动按需：</strong></p>
<ol>
<li>安装插件</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D unplugin-vue-components unplugin-auto-<span class="keyword">import</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>然后把下列代码插入到你的 <code>Vite</code> 或 <code>Webpack</code> 的配置文件中</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-auto-import/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    ...</span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()]</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()]</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>直接使用</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    ...</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="表单校验规则"><a href="#表单校验规则" class="headerlink" title="表单校验规则"></a>表单校验规则</h4><h4 id="表单校验需要进行的配置"><a href="#表单校验需要进行的配置" class="headerlink" title="表单校验需要进行的配置"></a><strong>表单校验需要进行的配置</strong></h4><ol>
<li><p><code>el-form</code>组件上绑定form数据对象</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> formModel = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">repassword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;el-form :model=<span class="string">&quot;formModel&quot;</span> &gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>el-form</code>上绑定rules规则对象</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form :rules=<span class="string">&quot;rules&quot;</span> &gt;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">const</span> rules = &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>表单元素上v-model绑定form数据对象的子属性</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">  v-model=<span class="string">&quot;formModel.username&quot;</span></span><br><span class="line">  :prefix-icon=<span class="string">&quot;User&quot;</span></span><br><span class="line">  placeholder=<span class="string">&quot;请输入用户名&quot;</span></span><br><span class="line">&gt;&lt;/el-input&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>prop绑定校验规则到元素<code>el-form-item</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form-item prop=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">v-model</span>=<span class="string">&quot;formModel.username&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:prefix-icon</span>=<span class="string">&quot;User&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line">&lt;/el-form-item&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>校验规则</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rules = &#123;</span><br><span class="line">  <span class="comment">// 为空就会报message的错误，触发时机为username改变时</span></span><br><span class="line">  <span class="comment">// 长度小于5或者大于10就会触发报错，触发时机为 失焦</span></span><br><span class="line">  <span class="attr">username</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入用户名&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">min</span>: <span class="number">5</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&#x27;用户名必须是5-10位的字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>&#125; </span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 正则校验 pattern放正则规则</span></span><br><span class="line">  <span class="attr">password</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入密码&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">pattern</span>: <span class="regexp">/^\S&#123;6,15&#125;$/</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;密码必须是6-15位非空字符&#x27;</span>,</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">repassword</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入密码&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">pattern</span>: <span class="regexp">/^\S&#123;6,15&#125;$/</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;密码必须是6-15位非空字符&#x27;</span>,</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">      <span class="comment">// 自定义校验， validator(rule, value, callback)</span></span><br><span class="line">      <span class="comment">// rule 当前校验相关的信息</span></span><br><span class="line">      <span class="comment">// value 所校验的表单元素的值</span></span><br><span class="line">      <span class="comment">// callback 无论成功和失败，都需要回调</span></span><br><span class="line">      <span class="comment">//	-callback() 校验成功</span></span><br><span class="line">      <span class="comment">//	-callback(new Error(错误信息)) 校验失败</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">validator</span>: <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value !== formModel.<span class="property">value</span>.<span class="property">password</span>) &#123;</span><br><span class="line">          <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;两次输入密码不一致&#x27;</span>))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">callback</span>()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="表单预校验"><a href="#表单预校验" class="headerlink" title="表单预校验"></a>表单预校验</h4><p>validate是表单暴露的函数，可以表单所有规则的检测，要使用它只需</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义响应式变量</span></span><br><span class="line"><span class="keyword">const</span> form = <span class="title function_">ref</span>()</span><br><span class="line"><span class="comment">// ref=form以调用内部方法</span></span><br><span class="line">&lt;el-form ref=form&gt;&lt;/el-form&gt;</span><br><span class="line"><span class="comment">// 调用内部方法validate</span></span><br><span class="line">form.<span class="property">value</span>.<span class="title function_">validate</span>()</span><br></pre></td></tr></table></figure>

<h4 id="表格结构与渲染数据"><a href="#表格结构与渲染数据" class="headerlink" title="表格结构与渲染数据"></a>表格结构与渲染数据</h4><p>label用来显示到用户</p>
<p>data绑定数据 数组对象</p>
<p>prop用来接收对象中的属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;articleList&quot; style=&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;title&quot; label=&quot;文章标题&quot; width=&quot;width&quot;&gt;</span><br><span class="line">        &lt;template #default=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;primary&quot; :underline=&quot;false&quot;&gt;&#123;&#123; row.title &#125;&#125;&lt;/el-link&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;cate_name&quot; label=&quot;分类&quot; width=&quot;width&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;pub_date&quot; label=&quot;发表时间&quot; width=&quot;width&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;state&quot; label=&quot;状态&quot; width=&quot;width&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">&lt;/el-table&gt;</span><br></pre></td></tr></table></figure>

<h4 id="表格自定义插槽"><a href="#表格自定义插槽" class="headerlink" title="表格自定义插槽"></a>表格自定义插槽</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column prop=&quot;title&quot; label=&quot;文章标题&quot; width=&quot;width&quot;&gt;</span><br><span class="line">        &lt;template #default=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;primary&quot; :underline=&quot;false&quot;&gt;&#123;&#123; row.title &#125;&#125;&lt;/el-link&gt;</span><br><span class="line">		&lt;/template&gt;</span><br><span class="line">&lt;/el-table-column&gt;</span><br></pre></td></tr></table></figure>

<p>table的每个column都可以自定义内容 这里的row就是表单中data里的数组对象的每个item</p>
<h4 id="默认显示中文"><a href="#默认显示中文" class="headerlink" title="默认显示中文"></a>默认显示中文</h4><p>App.vue 中直接导入设置成中文即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import zh from &#x27;element-plus/es/locale/lang/zh-cn.mjs&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 国际化处理 --&gt;</span><br><span class="line">  &lt;el-config-provider :locale=&quot;zh&quot;&gt;</span><br><span class="line">    &lt;router-view /&gt;</span><br><span class="line">  &lt;/el-config-provider&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h2><h4 id="Vue3优势"><a href="#Vue3优势" class="headerlink" title="Vue3优势"></a>Vue3优势</h4><p><strong>vue3更容易维护</strong></p>
<p>组合式API    更好的typesript支持</p>
<p><strong>更快的速度</strong></p>
<p>重写difff算法 模板编译优化 组件初始化更高效</p>
<p><strong>更小的体积</strong></p>
<p>良好的treeshaking   按需引入</p>
<p><strong>更好的数据响应式</strong></p>
<p>proxy</p>
<h4 id="create-vue搭建vue3项目"><a href="#create-vue搭建vue3项目" class="headerlink" title="create-vue搭建vue3项目"></a>create-vue搭建vue3项目</h4><p>vue-cli用来创建vue2 底层为webpack</p>
<p>create-vue用来创建vue3 底层为vite</p>
<p><code>npm init vue@latest</code></p>
<p>执行命令 安装并执行create-vue</p>
<h3 id="组合式API-setup选项"><a href="#组合式API-setup选项" class="headerlink" title="组合式API setup选项"></a>组合式API setup选项</h3><h4 id="1-执行时机"><a href="#1-执行时机" class="headerlink" title="1. 执行时机"></a>1. <strong>执行时机</strong></h4><p>在beforeCreate之前自动执行 这也导致setup函数无法获取到this</p>
<h4 id="2-写法"><a href="#2-写法" class="headerlink" title="2. 写法"></a>2. <strong>写法</strong></h4><ol>
<li><p>组合式api放在setup选项里</p>
</li>
<li><p>数据和函数需要在setup最后return 才能在模板中使用</p>
</li>
</ol>
<h4 id="3-语法糖"><a href="#3-语法糖" class="headerlink" title="3. &lt;script setup&gt;语法糖"></a>3. <strong><code>&lt;script setup&gt;</code>语法糖</strong></h4><p>不必return 也不用加导出语句export default</p>
<h3 id="组合式API-reactive和ref函数"><a href="#组合式API-reactive和ref函数" class="headerlink" title="组合式API reactive和ref函数"></a>组合式API reactive和ref函数</h3><h4 id="1-reactive"><a href="#1-reactive" class="headerlink" title="1. reactive"></a>1. reactive</h4><blockquote>
<p>接受对象类型数据的参数传入并返回一个响应式的对象</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"> // 导入</span><br><span class="line"> import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line"> // 执行函数 传入参数 变量接收</span><br><span class="line"> const state = reactive(&#123;</span><br><span class="line">   msg:&#x27;this is msg&#x27;</span><br><span class="line"> &#125;)</span><br><span class="line"> const setSate = ()=&gt;&#123;</span><br><span class="line">   // 修改数据更新视图</span><br><span class="line">   state.msg = &#x27;this is new msg&#x27;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &#123;&#123; state.msg &#125;&#125;</span><br><span class="line">  &lt;button @click=&quot;setState&quot;&gt;change msg&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-ref"><a href="#2-ref" class="headerlink" title="2. ref"></a>2. ref</h4><blockquote>
<p>接收简单类型或者对象类型的数据传入并返回一个响应式的对象</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"> // 导入</span><br><span class="line"> import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"> // 执行函数 传入参数 变量接收</span><br><span class="line"> const count = ref(0)</span><br><span class="line"> const setCount = ()=&gt;&#123;</span><br><span class="line">   // 修改数据更新视图必须加上.value</span><br><span class="line">   count.value++</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;setCount&quot;&gt;&#123;&#123;count&#125;&#125;&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-reactive-对比-ref"><a href="#3-reactive-对比-ref" class="headerlink" title="3. reactive 对比 ref"></a>3. reactive 对比 ref</h4><ol>
<li>都是用来生成响应式数据</li>
<li>不同点<ol>
<li>reactive不能处理简单类型的数据</li>
<li>ref参数类型支持更好，但是js中必须通过.value做访问修改，模板中使用不需要加value</li>
<li>ref函数内部的实现依赖于reactive函数，本质还是将简单类型数据变成了对象</li>
</ol>
</li>
<li>在实际工作中的推荐<ol>
<li>推荐使用ref函数，减少记忆负担</li>
</ol>
</li>
</ol>
<h3 id="组合式API-computed属性"><a href="#组合式API-computed属性" class="headerlink" title="组合式API computed属性"></a>组合式API computed属性</h3><p>思想与vue2一致 只是写法不同</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// 导入</span><br><span class="line">import &#123;ref, computed &#125; from &#x27;vue&#x27;</span><br><span class="line">// 原始数据</span><br><span class="line">const count = ref(0)</span><br><span class="line">// 计算属性</span><br><span class="line">const doubleCount = computed(()=&gt;count.value * 2)</span><br><span class="line"></span><br><span class="line">// 原始数据</span><br><span class="line">const list = ref([1,2,3,4,5,6,7,8])</span><br><span class="line">// 计算属性list</span><br><span class="line">const filterList = computed(item=&gt;item &gt; 2)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组合式API-watch属性"><a href="#组合式API-watch属性" class="headerlink" title="组合式API watch属性"></a>组合式API watch属性</h3><blockquote>
<p>侦听一个或者多个数据的变化，数据变化时执行回调函数，俩个额外参数 immediate控制立刻执行，deep开启深度侦听</p>
</blockquote>
<h4 id="1-侦听单个数据"><a href="#1-侦听单个数据" class="headerlink" title="1. 侦听单个数据"></a>1. 侦听单个数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  // 1. 导入watch</span><br><span class="line">  import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">  const count = ref(0)</span><br><span class="line">  // 2. 调用watch 侦听变化</span><br><span class="line">  watch(count, (newValue, oldValue)=&gt;&#123;</span><br><span class="line">    console.log(`count发生了变化，老值为$&#123;oldValue&#125;,新值为$&#123;newValue&#125;`)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-侦听多个数据"><a href="#2-侦听多个数据" class="headerlink" title="2. 侦听多个数据"></a>2. 侦听多个数据</h4><blockquote>
<p>侦听多个数据，第一个参数可以改写成数组的写法</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  // 1. 导入watch</span><br><span class="line">  import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">  const count = ref(0)</span><br><span class="line">  const name = ref(&#x27;cp&#x27;)</span><br><span class="line">  // 2. 调用watch 侦听变化</span><br><span class="line">  watch([count, name], ([newCount, newName],[oldCount,oldName])=&gt;&#123;</span><br><span class="line">    console.log(`count或者name变化了，[newCount, newName],[oldCount,oldName])</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-immediate"><a href="#3-immediate" class="headerlink" title="3. immediate"></a>3. immediate</h4><blockquote>
<p>在侦听器创建时立即出发回调，响应式数据变化之后继续执行回调</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  // 1. 导入watch</span><br><span class="line">  import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">  const count = ref(0)</span><br><span class="line">  // 2. 调用watch 侦听变化</span><br><span class="line">  watch(count, (newValue, oldValue)=&gt;&#123;</span><br><span class="line">    console.log(`count发生了变化，老值为$&#123;oldValue&#125;,新值为$&#123;newValue&#125;`)</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">    immediate: true</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-deep"><a href="#4-deep" class="headerlink" title="4. deep"></a>4. deep</h4><blockquote>
<p>通过watch监听的ref对象默认是浅层侦听的，直接修改嵌套的对象属性不会触发回调执行，需要开启deep</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  // 1. 导入watch</span><br><span class="line">  import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">  const state = ref(&#123; count: 0 &#125;)</span><br><span class="line">  // 2. 监听对象state</span><br><span class="line">  watch(state, ()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;数据变化了&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  const changeStateByCount = ()=&gt;&#123;</span><br><span class="line">    // 直接修改不会引发回调执行</span><br><span class="line">    state.value.count++</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">  // 1. 导入watch</span><br><span class="line">  import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line">  const state = ref(&#123; count: 0 &#125;)</span><br><span class="line">  // 2. 监听对象state 并开启deep</span><br><span class="line">  watch(state, ()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;数据变化了&#x27;)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line">  const changeStateByCount = ()=&gt;&#123;</span><br><span class="line">    // 此时修改可以触发回调</span><br><span class="line">    state.value.count++</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-精确侦听对象的某个属性"><a href="#5-精确侦听对象的某个属性" class="headerlink" title="5. 精确侦听对象的某个属性"></a>5. 精确侦听对象的某个属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userInfo = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;winter&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&#x27;23&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">watch</span>(<span class="function">() =&gt;</span> userInfo.<span class="property">value</span>.<span class="property">age</span>, <span class="function">(<span class="params">newvalue, oldvalue</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldvalue)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="组合式API-生命周期函数"><a href="#组合式API-生命周期函数" class="headerlink" title="组合式API 生命周期函数"></a>组合式API 生命周期函数</h3><p><img src="/..%5Cimg%5Cmd%5Cvue3%E7%BB%84%E5%90%88%E5%BC%8FAPI%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.png"></p>
<p><code>beforeCreated</code>和<code>created</code>的相关代码 一律放在<code>setup</code>里</p>
<p>选项式API的钩子在组合式API里也能用</p>
<p>vue3 同一个生命周期函数可以调用多次</p>
<p>Vue3的销毁不再是destroyed</p>
<h3 id="组合式API-父子通信"><a href="#组合式API-父子通信" class="headerlink" title="组合式API 父子通信"></a>组合式API 父子通信</h3><h4 id="1-父传子"><a href="#1-父传子" class="headerlink" title="1. 父传子"></a>1. 父传子</h4><p><strong>步骤</strong></p>
<ol>
<li><p>父组件绑定属性传值</p>
</li>
<li><p>子组件通过defineProps方法接收</p>
</li>
</ol>
<p><strong>示例</strong></p>
<ol>
<li><p>父组件<code>&lt;SonCom name=&quot;winter&quot; :age=&quot;age&quot;&gt;&lt;/SonCom&gt;</code></p>
</li>
<li><p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">    name: String,</span><br><span class="line">    age: Number</span><br><span class="line">&#125;)</span><br><span class="line">console.log(props.name);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template lang=&quot;&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        我是子组件 &#123;&#123;name&#125;&#125; &#123;&#123;age&#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-子传父"><a href="#2-子传父" class="headerlink" title="2. 子传父"></a>2. 子传父</h4><p><strong>步骤</strong></p>
<ol>
<li>父组件在子组件标签中通过@绑定事件</li>
<li>子组件内部通过defineEmits生成emit方法 并触发事件传递参数</li>
</ol>
<p><strong>示例</strong></p>
<ol>
<li><p>父组件  <code>&lt;SonCom :age=&quot;age&quot; @addWinterAge=&quot;addAge&quot;&gt;&lt;/SonCom&gt;</code></p>
</li>
<li><p>子组件</p>
</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">const emit = defineEmits([&#x27;addWinterAge&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;button @click=&quot;emit(&#x27;addWinterAge&#x27;)&quot;&gt;加年龄&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组合式API-模板引用"><a href="#组合式API-模板引用" class="headerlink" title="组合式API - 模板引用"></a>组合式API - 模板引用</h3><h4 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1. 基本使用"></a>1. 基本使用</h4><p><strong>概念</strong>：通过 ref标识 获取真实的 dom对象或者组件实例对象</p>
<p><strong>步骤</strong></p>
<ol>
<li>调用ref函数生成ref对象</li>
<li>通过ref标识绑定ref对象到标签</li>
</ol>
<p><strong>示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">const inp = ref(null)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input ref=&quot;inp&quot; type=&quot;text&quot;&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">//这样就拿到了输入框dom</span><br></pre></td></tr></table></figure>

<h4 id="2-defineExpose"><a href="#2-defineExpose" class="headerlink" title="2. defineExpose"></a>2. defineExpose</h4><p>默认情况下在 <code>&lt;script setup&gt;</code>语法糖下组件内部的属性和方法是不开放给父组件访问的，可以通过defineExpose编译宏指定哪些属性和方法容许访问</p>
<p><strong>示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">子组件</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">const count = ref(0)</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">    count</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">父组件</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">const testRef = ref(null)</span><br><span class="line">const getCom = () =&gt; &#123;</span><br><span class="line">  console.log(testRef.value.count)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;getCom&quot;&gt;点击后输出子组件的数据count&lt;/button&gt;</span><br><span class="line">    &lt;testCom ref=&quot;testRef&quot;&gt;&lt;/testCom&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组合式API-provide和inject"><a href="#组合式API-provide和inject" class="headerlink" title="组合式API provide和inject"></a>组合式API provide和inject</h3><p>作用场景：顶层组件向底层组件传递数据和方法，实现<strong>跨层级通信</strong></p>
<p><strong>步骤</strong></p>
<ol>
<li>顶层组件通过 <code>provide</code> 函数提供数据和修改数据的方法</li>
<li>底层组件通过 <code>inject</code> 函数提供数据</li>
</ol>
<p><strong>示例代码</strong></p>
<p>父组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import CenterBottom from &#x27;./components/center-bottom.vue&#x27;</span><br><span class="line">import &#123; provide, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">const count = ref(100)</span><br><span class="line">provide(&#x27;count&#x27;, count)</span><br><span class="line">provide(&#x27;changeCount&#x27;, (newCount) =&gt; &#123;</span><br><span class="line">  count.value = newCount  </span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;CenterBottom&gt;&lt;/CenterBottom&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; inject &#125; from &#x27;vue&#x27;</span><br><span class="line">const themeColor = inject(&#x27;theme-color&#x27;)</span><br><span class="line">const count = inject(&#x27;count&#x27;)</span><br><span class="line">const clickFn = inject(&#x27;changeCount&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    底层组件-&#123;&#123; themeColor &#125;&#125;-&#123;&#123; count &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;clickFn(10)&quot;&gt;更新count&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="defineOptions"><a href="#defineOptions" class="headerlink" title="defineOptions"></a>defineOptions</h3><p> defineOptions 宏。顾名思义，主要是用来定义 Options API 的选项。可以用 defineOptions 定义任意的选项， props, emits, expose, slots 除外（因为这些可以使用 defineXXX 来做到）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">	defineoptions(&#123;</span><br><span class="line">        name:&#x27;&#x27;,</span><br><span class="line">        props:[...],</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="defineModel"><a href="#defineModel" class="headerlink" title="defineModel"></a>defineModel</h3><p>优化自定义组件的v-model用法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(&#123;</span><br><span class="line">      <span class="attr">script</span>: &#123;</span><br><span class="line">        <span class="attr">defineModel</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">const modelValue = defineModel</span><br><span class="line">modelValue.value++</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h3><p><strong>概念</strong>：Pinia是Vue最新状态管理库，Pinia去掉了mutation和modules，配合typescript更友好</p>
<h4 id="Pinia使用步骤"><a href="#Pinia使用步骤" class="headerlink" title="Pinia使用步骤"></a>Pinia使用步骤</h4><p>如果使用vite创建vue项目时可以直接勾选pinia，也可以手动设置</p>
<p><strong>手动设置</strong> <code>npm i pinia</code></p>
<p>Vue项目入口文件main.js中设置Pinia</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>创建store</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref, computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCounterStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;counter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">addCount</span> = (<span class="params"></span>) =&gt; count.<span class="property">value</span>++</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">subCount</span> = (<span class="params"></span>) =&gt; count.<span class="property">value</span>--</span><br><span class="line">    <span class="keyword">const</span> double = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> count.<span class="property">value</span> * <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">const</span> msg = <span class="title function_">ref</span>(<span class="string">&#x27;winterlee&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;count, msg, addCount, subCount, double&#125;</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">persist</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pinia支持组合式api用法，因此可以用ref来指明state，用computed来指明getters，直接定义函数来代替actions</p>
<h4 id="storeToRefs"><a href="#storeToRefs" class="headerlink" title="storeToRefs"></a>storeToRefs</h4><p>从store中不能直接解构数据 解构需要用到storeToRefs</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据不会是响应式</span></span><br><span class="line"><span class="keyword">const</span> &#123; count &#125; = counterStore</span><br><span class="line"><span class="comment">// 数据保持响应式</span></span><br><span class="line"><span class="keyword">const</span> &#123; count &#125; = <span class="title function_">storeToRefs</span>(counterStore)</span><br></pre></td></tr></table></figure>

<p>从store中可以直接解构方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;addCount, <span class="title class_">SubCount</span>&#125; = couterStore</span><br></pre></td></tr></table></figure>

<h4 id="Pinia持久化插件"><a href="#Pinia持久化插件" class="headerlink" title="Pinia持久化插件"></a>Pinia持久化插件</h4><p>官方文档：<a target="_blank" rel="noopener" href="https://prazdevs.github.io/pinia-plugin-persistedstate/zh/">https://prazdevs.github.io/pinia-plugin-persistedstate/zh/</a></p>
<ol>
<li>安装插件 pinia-plugin-persistedstate</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i pinia-plugin-persistedstate</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用 main.js</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> persist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line">...</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">createPinia</span>().<span class="title function_">use</span>(persist))</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>配置 store&#x2F;counter.js</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; computed, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCounterStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;counter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    count,</span><br><span class="line">    doubleCount,</span><br><span class="line">    increment</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  <span class="attr">persist</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>其他配置，看官网文档即可</li>
</ol>
<h4 id="Pinia-配置仓库统一管理"><a href="#Pinia-配置仓库统一管理" class="headerlink" title="Pinia - 配置仓库统一管理"></a>Pinia - 配置仓库统一管理</h4><p>pinia <strong>独立维护</strong></p>
<p>- 现在：初始化代码在 main.js 中，仓库代码在 stores 中，代码分散职能不单一</p>
<p>- 优化：由 stores 统一维护，在 stores&#x2F;index.js 中完成 pinia 初始化，交付 main.js 使用</p>
<p><strong>实现</strong></p>
<p>​	src&#x2F;stores&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> persist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(persist)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia</span><br></pre></td></tr></table></figure>

<p>​	main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/assets/main.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;./stores&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>仓库 <strong>统一导出</strong></p>
<p>- 现在：使用一个仓库 import { useUserStore } from <code>./stores/user.js</code> 不同仓库路径不一致</p>
<p>- 优化：由 stores&#x2F;index.js 统一导出，导入路径统一 <code>./stores</code>，而且仓库维护在 stores&#x2F;modules 中</p>
<p><strong>实现</strong></p>
<p>​	src&#x2F;stores&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> persist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(persist)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia</span><br><span class="line"></span><br><span class="line"><span class="comment">// import &#123; useUserStore &#125; from &#x27;@/stores/modules/user&#x27;</span></span><br><span class="line"><span class="comment">// export &#123; useUserStore &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://Rorschach23-max.github.io">Winter</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://rorschach23-max.github.io/2024/04/15/Vue%E7%AC%94%E8%AE%B0/Vue%E7%AC%94%E8%AE%B0/">https://rorschach23-max.github.io/2024/04/15/Vue%E7%AC%94%E8%AE%B0/Vue%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/./img/cover/cover3.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/20/24-3-5%E6%9C%88%E6%80%BB%E7%BB%93/" title="24.3-5月总结"><img class="cover" src="/./img/cover/cover1.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">24.3-5月总结</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/07/Git/Git/" title="Git"><img class="cover" src="/./img/cover/cover3.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Git</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/avatar/avatar1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Winter</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Rorschach23-max" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1561825068@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue2"><span class="toc-number">1.</span> <span class="toc-text">Vue2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Vue"><span class="toc-number">1.1.</span> <span class="toc-text">使用Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8Vue-js"><span class="toc-number">1.1.1.</span> <span class="toc-text">引用Vue.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">代码示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E6%8C%87%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">Vue指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-html%E5%92%8Cv-text"><span class="toc-number">1.2.1.</span> <span class="toc-text">v-html和v-text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for"><span class="toc-number">1.2.2.</span> <span class="toc-text">v-for</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-if"><span class="toc-number">1.2.3.</span> <span class="toc-text">v-if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-show%E5%92%8Cv-if%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">1.2.4.</span> <span class="toc-text">v-show和v-if的区别？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-on-click-%E5%92%8C-v-on-change"><span class="toc-number">1.2.5.</span> <span class="toc-text">v-on:click 和 v-on:change</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind-%E5%92%8C-v-model"><span class="toc-number">1.2.6.</span> <span class="toc-text">v-bind 和 v-model</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.3.</span> <span class="toc-text">指令修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.3.1.</span> <span class="toc-text">按键修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.3.2.</span> <span class="toc-text">v-model修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.3.3.</span> <span class="toc-text">事件修饰符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind%E5%AF%B9%E6%A0%B7%E5%BC%8F%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.</span> <span class="toc-text">v-bind对样式的控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind%E6%8E%A7%E5%88%B6class"><span class="toc-number">1.4.1.</span> <span class="toc-text">v-bind控制class</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind%E6%8E%A7%E5%88%B6style"><span class="toc-number">1.4.2.</span> <span class="toc-text">v-bind控制style</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model%E5%BA%94%E7%94%A8%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0"><span class="toc-number">1.5.</span> <span class="toc-text">v-model应用表单元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7computed"><span class="toc-number">1.6.</span> <span class="toc-text">计算属性computed</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.6.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#computed%E7%9A%84%E7%AE%80%E6%98%93%E4%BD%BF%E7%94%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">computed的简易使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%AE%8C%E6%95%B4%E5%86%99%E6%B3%95"><span class="toc-number">1.6.3.</span> <span class="toc-text">计算属性完整写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#computed%E7%9A%84%E4%BC%98%E5%8A%BF-%E7%BC%93%E5%AD%98%E7%89%B9%E6%80%A7"><span class="toc-number">1.6.4.</span> <span class="toc-text">computed的优势-缓存特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch%E7%9B%91%E8%A7%86%E5%99%A8"><span class="toc-number">1.7.</span> <span class="toc-text">watch监视器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.8.</span> <span class="toc-text">Vue生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%EF%BC%88%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0%EF%BC%89"><span class="toc-number">1.8.1.</span> <span class="toc-text">Vue生命周期函数（钩子函数）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91%E7%89%88%E6%9C%AC%E5%AF%B9%E5%BA%94"><span class="toc-number">1.9.</span> <span class="toc-text">Vue工程化开发版本对应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91%E5%92%8C%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">1.10.</span> <span class="toc-text">Vue工程化开发和脚手架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91Vue%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.10.1.</span> <span class="toc-text">开发Vue的两种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6Vue-CLI"><span class="toc-number">1.10.2.</span> <span class="toc-text">脚手架Vue CLI</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VueCLi%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.11.</span> <span class="toc-text">VueCLi自定义创建项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D%E5%92%8C%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.12.</span> <span class="toc-text">Vue项目目录介绍和运行流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.12.1.</span> <span class="toc-text">项目目录介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.12.2.</span> <span class="toc-text">运行流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">1.12.3.</span> <span class="toc-text">组件化开发</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E7%BB%84%E4%BB%B6-App-vue"><span class="toc-number">1.13.</span> <span class="toc-text">根组件 App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B3%A8%E5%86%8C%E4%BD%BF%E7%94%A8-%E5%B1%80%E9%83%A8%E6%B3%A8%E5%86%8C"><span class="toc-number">1.14.</span> <span class="toc-text">普通组件的注册使用-局部注册</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B3%A8%E5%86%8C%E4%BD%BF%E7%94%A8-%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C"><span class="toc-number">1.15.</span> <span class="toc-text">普通组件的注册使用-全局注册</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scoped%E8%A7%A3%E5%86%B3%E6%A0%B7%E5%BC%8F%E5%86%B2%E7%AA%81"><span class="toc-number">1.16.</span> <span class="toc-text">scoped解决样式冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE-data%E5%BF%85%E9%A1%BB%E5%86%99%E6%88%90%E5%87%BD%E6%95%B0"><span class="toc-number">1.17.</span> <span class="toc-text">组件的数据 data必须写成函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">1.18.</span> <span class="toc-text">组件通信</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E5%85%B3%E7%B3%BB%E7%9A%84%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">1.18.1.</span> <span class="toc-text">不同关系的组件通信</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1%E6%B5%81%E7%A8%8B%E4%B8%8E%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.18.2.</span> <span class="toc-text">父子通信流程与示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1-EventBus-%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF"><span class="toc-number">1.18.3.</span> <span class="toc-text">非父子组件通信-EventBus 事件总线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%A8%E5%B1%82%E7%BA%A7%E7%9A%84%E9%9D%9E%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1-provide-inject"><span class="toc-number">1.18.4.</span> <span class="toc-text">跨层级的非父子组件通信-provide &amp; inject</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#props%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.19.</span> <span class="toc-text">props校验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#props%E7%B1%BB%E5%9E%8B%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.19.1.</span> <span class="toc-text">props类型校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#props%E5%AE%8C%E6%95%B4%E6%A0%A1%E9%AA%8C%E5%86%99%E6%B3%95"><span class="toc-number">1.19.2.</span> <span class="toc-text">props完整校验写法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#props-data%E3%80%81%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">1.20.</span> <span class="toc-text">props &amp; data、单向数据流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#props%E5%92%8Cdata%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.20.1.</span> <span class="toc-text">props和data的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">1.20.2.</span> <span class="toc-text">单向数据流</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.21.</span> <span class="toc-text">v-model详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E5%8E%9F%E7%90%86"><span class="toc-number">1.21.1.</span> <span class="toc-text">v-model原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%EF%BC%8C%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81"><span class="toc-number">1.21.2.</span> <span class="toc-text">v-model实现数据双向绑定，简化代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue3-v-model%E5%8E%9F%E7%90%86"><span class="toc-number">1.21.3.</span> <span class="toc-text">Vue3 v-model原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sync%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.22.</span> <span class="toc-text">.sync修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref%E5%92%8C-refs"><span class="toc-number">1.23.</span> <span class="toc-text">ref和$refs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E5%BC%82%E6%AD%A5dom%E6%9B%B4%E6%96%B0%E3%80%81-nextTick"><span class="toc-number">1.24.</span> <span class="toc-text">Vue异步dom更新、$nextTick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">1.25.</span> <span class="toc-text">自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD"><span class="toc-number">1.26.</span> <span class="toc-text">插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%94%A8%E6%B3%95"><span class="toc-number">1.26.1.</span> <span class="toc-text">默认插槽用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%E7%94%A8%E6%B3%95"><span class="toc-number">1.26.2.</span> <span class="toc-text">具名插槽用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD%EF%BC%88%E7%BB%99%E6%8F%92%E6%A7%BD%E7%BB%91%E5%AE%9A%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="toc-number">1.26.3.</span> <span class="toc-text">作用域插槽（给插槽绑定数据）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%85%A5%E9%97%A8"><span class="toc-number">1.27.</span> <span class="toc-text">路由入门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.27.1.</span> <span class="toc-text">路由使用步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%BF%9B%E9%98%B6"><span class="toc-number">1.28.</span> <span class="toc-text">路由进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E8%B7%AF%E7%94%B1"><span class="toc-number">1.28.1.</span> <span class="toc-text">封装路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-router-link%E7%BB%84%E4%BB%B6-%E5%AF%BC%E8%88%AA%E9%93%BE%E6%8E%A5"><span class="toc-number">1.28.2.</span> <span class="toc-text">声明式导航 router-link组件 导航链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-%E9%AB%98%E4%BA%AE%E7%B1%BB%E5%90%8D"><span class="toc-number">1.28.3.</span> <span class="toc-text">声明式导航 高亮类名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%90%8D"><span class="toc-number">1.28.4.</span> <span class="toc-text">声明式导航 自定义类名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-%E8%B7%B3%E8%BD%AC%E4%BC%A0%E5%8F%82"><span class="toc-number">1.28.5.</span> <span class="toc-text">声明式导航 跳转传参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E8%B7%AF%E7%94%B1-%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.28.6.</span> <span class="toc-text">vue路由 重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E8%B7%AF%E7%94%B1-404"><span class="toc-number">1.28.7.</span> <span class="toc-text">vue路由 404</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E8%B7%AF%E7%94%B1-%E6%A8%A1%E5%BC%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.28.8.</span> <span class="toc-text">vue路由 模式设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E8%B7%AF%E7%94%B1-%E5%AF%BC%E8%88%AA%E8%B7%B3%E8%BD%AC"><span class="toc-number">1.28.9.</span> <span class="toc-text">vue路由 导航跳转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">1.28.10.</span> <span class="toc-text">vue嵌套路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%8B%A6%E6%88%AA-%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">1.28.11.</span> <span class="toc-text">路由拦截-全局前置守卫</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.28.12.</span> <span class="toc-text">路由懒加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VueRouter4-%E8%B7%AF%E7%94%B1%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90"><span class="toc-number">1.28.13.</span> <span class="toc-text">VueRouter4  路由代码解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue3-%E7%BB%84%E5%90%88%E5%BC%8FAPI%E4%B8%AD%E8%8E%B7%E5%8F%96%E8%B7%AF%E7%94%B1"><span class="toc-number">1.28.14.</span> <span class="toc-text">Vue3 组合式API中获取路由</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%BC%93%E5%AD%98-keep-alive"><span class="toc-number">1.29.</span> <span class="toc-text">组件缓存 keep-alive</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#keep-alive%E7%9A%84%E4%B8%89%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-number">1.29.1.</span> <span class="toc-text">keep-alive的三个属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%9D%E5%A4%96%E7%9A%84%E4%B8%A4%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">1.29.2.</span> <span class="toc-text">额外的两个生命周期函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ESlint%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="toc-number">1.30.</span> <span class="toc-text">ESlint代码规范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JavaScript-Standard-Style-%E8%A7%84%E8%8C%83%E8%AF%B4%E6%98%8E"><span class="toc-number">1.30.1.</span> <span class="toc-text">JavaScript Standard Style 规范说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E4%BF%AE%E6%AD%A3-ESlint%E6%8F%92%E4%BB%B6"><span class="toc-number">1.30.2.</span> <span class="toc-text">自动修正 ESlint插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prettier"><span class="toc-number">1.30.3.</span> <span class="toc-text">prettier</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E6%8A%A5%E9%94%99"><span class="toc-number">1.30.4.</span> <span class="toc-text">忽略报错</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex"><span class="toc-number">1.31.</span> <span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vuex%E6%A6%82%E8%BF%B0"><span class="toc-number">1.31.1.</span> <span class="toc-text">Vuex概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.31.2.</span> <span class="toc-text">vuex的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-state%E7%8A%B6%E6%80%81"><span class="toc-number">1.31.3.</span> <span class="toc-text">核心概念-state状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0mapState"><span class="toc-number">1.31.4.</span> <span class="toc-text">辅助函数mapState</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-mutations"><span class="toc-number">1.31.5.</span> <span class="toc-text">核心概念-mutations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0-mapMutations"><span class="toc-number">1.31.6.</span> <span class="toc-text">辅助函数-mapMutations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-actions"><span class="toc-number">1.31.7.</span> <span class="toc-text">核心概念-actions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0-mapActions"><span class="toc-number">1.31.8.</span> <span class="toc-text">辅助函数 - mapActions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-getters"><span class="toc-number">1.31.9.</span> <span class="toc-text">核心概念-getters</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-module"><span class="toc-number">1.31.10.</span> <span class="toc-text">核心概念-module</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#storage%E5%AD%98%E5%82%A8%E6%A8%A1%E5%9D%97-Vuex%E6%8C%81%E4%B9%85%E5%8C%96%E5%A4%84%E7%90%86"><span class="toc-number">1.31.11.</span> <span class="toc-text">storage存储模块-Vuex持久化处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6%E5%BA%93-vant-ui"><span class="toc-number">1.32.</span> <span class="toc-text">第三方组件库 vant-ui</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.32.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%85%A8%E9%83%A8%E5%AF%BC%E5%85%A5-%E4%B8%8D%E6%8E%A8%E8%8D%90"><span class="toc-number">1.32.2.</span> <span class="toc-text">组件全部导入(不推荐)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.32.3.</span> <span class="toc-text">按需导入（推荐）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%EF%BC%9A-vw%E9%80%82%E9%85%8D"><span class="toc-number">1.32.4.</span> <span class="toc-text">移动端适配： vw适配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8%E6%B7%BB%E5%8A%A0loading"><span class="toc-number">1.32.5.</span> <span class="toc-text">为请求、响应拦截器添加loading</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6%E5%BA%93-element-plus"><span class="toc-number">1.33.</span> <span class="toc-text">第三方组件库 element-plus</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99"><span class="toc-number">1.33.1.</span> <span class="toc-text">表单校验规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.33.2.</span> <span class="toc-text">表单校验需要进行的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E9%A2%84%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.33.3.</span> <span class="toc-text">表单预校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC%E7%BB%93%E6%9E%84%E4%B8%8E%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE"><span class="toc-number">1.33.4.</span> <span class="toc-text">表格结构与渲染数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E6%A7%BD"><span class="toc-number">1.33.5.</span> <span class="toc-text">表格自定义插槽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87"><span class="toc-number">1.33.6.</span> <span class="toc-text">默认显示中文</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue3"><span class="toc-number">2.</span> <span class="toc-text">Vue3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue3%E4%BC%98%E5%8A%BF"><span class="toc-number">2.0.1.</span> <span class="toc-text">Vue3优势</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#create-vue%E6%90%AD%E5%BB%BAvue3%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.0.2.</span> <span class="toc-text">create-vue搭建vue3项目</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-setup%E9%80%89%E9%A1%B9"><span class="toc-number">2.1.</span> <span class="toc-text">组合式API setup选项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. 执行时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%86%99%E6%B3%95"><span class="toc-number">2.1.2.</span> <span class="toc-text">2. 写法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="toc-number">2.1.3.</span> <span class="toc-text">3. &lt;script setup&gt;语法糖</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-reactive%E5%92%8Cref%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">组合式API reactive和ref函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-reactive"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. reactive</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-ref"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. ref</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-reactive-%E5%AF%B9%E6%AF%94-ref"><span class="toc-number">2.2.3.</span> <span class="toc-text">3. reactive 对比 ref</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-computed%E5%B1%9E%E6%80%A7"><span class="toc-number">2.3.</span> <span class="toc-text">组合式API computed属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-watch%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text">组合式API watch属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BE%A6%E5%90%AC%E5%8D%95%E4%B8%AA%E6%95%B0%E6%8D%AE"><span class="toc-number">2.4.1.</span> <span class="toc-text">1. 侦听单个数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BE%A6%E5%90%AC%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE"><span class="toc-number">2.4.2.</span> <span class="toc-text">2. 侦听多个数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-immediate"><span class="toc-number">2.4.3.</span> <span class="toc-text">3. immediate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-deep"><span class="toc-number">2.4.4.</span> <span class="toc-text">4. deep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%B2%BE%E7%A1%AE%E4%BE%A6%E5%90%AC%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9F%90%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.5.</span> <span class="toc-text">5. 精确侦听对象的某个属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">2.5.</span> <span class="toc-text">组合式API 生命周期函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-%E7%88%B6%E5%AD%90%E9%80%9A%E4%BF%A1"><span class="toc-number">2.6.</span> <span class="toc-text">组合式API 父子通信</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%88%B6%E4%BC%A0%E5%AD%90"><span class="toc-number">2.6.1.</span> <span class="toc-text">1. 父传子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">2.6.2.</span> <span class="toc-text">2. 子传父</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-%E6%A8%A1%E6%9D%BF%E5%BC%95%E7%94%A8"><span class="toc-number">2.7.</span> <span class="toc-text">组合式API - 模板引用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.7.1.</span> <span class="toc-text">1. 基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-defineExpose"><span class="toc-number">2.7.2.</span> <span class="toc-text">2. defineExpose</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BC%8FAPI-provide%E5%92%8Cinject"><span class="toc-number">2.8.</span> <span class="toc-text">组合式API provide和inject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defineOptions"><span class="toc-number">2.9.</span> <span class="toc-text">defineOptions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defineModel"><span class="toc-number">2.10.</span> <span class="toc-text">defineModel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pinia"><span class="toc-number">2.11.</span> <span class="toc-text">Pinia</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Pinia%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.11.1.</span> <span class="toc-text">Pinia使用步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#storeToRefs"><span class="toc-number">2.11.2.</span> <span class="toc-text">storeToRefs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pinia%E6%8C%81%E4%B9%85%E5%8C%96%E6%8F%92%E4%BB%B6"><span class="toc-number">2.11.3.</span> <span class="toc-text">Pinia持久化插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pinia-%E9%85%8D%E7%BD%AE%E4%BB%93%E5%BA%93%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86"><span class="toc-number">2.11.4.</span> <span class="toc-text">Pinia - 配置仓库统一管理</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/05/htmlcss/htmlcss/" title="htmlcss"><img src="/./img/cover/cover2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="htmlcss"/></a><div class="content"><a class="title" href="/2024/09/05/htmlcss/htmlcss/" title="htmlcss">htmlcss</a><time datetime="2024-09-05T06:01:32.000Z" title="Created 2024-09-05 14:01:32">2024-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/06/javascript/javascript/" title="javascript"><img src="/./img/cover/cover2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javascript"/></a><div class="content"><a class="title" href="/2024/08/06/javascript/javascript/" title="javascript">javascript</a><time datetime="2024-08-06T07:30:29.000Z" title="Created 2024-08-06 15:30:29">2024-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/01/js%E5%86%99%E7%AE%97%E6%B3%95/js%E5%86%99%E7%AE%97%E6%B3%95/" title="js写算法"><img src="/./img/cover/cover3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="js写算法"/></a><div class="content"><a class="title" href="/2024/08/01/js%E5%86%99%E7%AE%97%E6%B3%95/js%E5%86%99%E7%AE%97%E6%B3%95/" title="js写算法">js写算法</a><time datetime="2024-08-01T06:51:43.000Z" title="Created 2024-08-01 14:51:43">2024-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/12/24%E6%9A%91%E5%81%87/" title="24暑假"><img src="/./img/cover/cover1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24暑假"/></a><div class="content"><a class="title" href="/2024/07/12/24%E6%9A%91%E5%81%87/" title="24暑假">24暑假</a><time datetime="2024-07-12T12:20:59.000Z" title="Created 2024-07-12 20:20:59">2024-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF/" title="前端"><img src="/./img/cover/cover2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端"/></a><div class="content"><a class="title" href="/2024/06/19/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF/" title="前端">前端</a><time datetime="2024-06-19T04:21:42.000Z" title="Created 2024-06-19 12:21:42">2024-06-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Winter</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>